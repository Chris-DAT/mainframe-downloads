<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="robots" content="index,follow">
    <title>src/js/sources/ibm/common/lib/imagesloaded.js - IBM v18 (Northstar) common Javascript documentation</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" href="http://www.ibm.com/favicon.ico">
    <script>
        digitalData = {
            page: {
                pageInfo: {
                    effectiveDate: '2017-02-25',
                    expiryDate: '2020-02-25',
                    language: 'en-US',
                    publishDate: '2017-02-25',
                    publisher: 'IBM Corporation',
                    ibm: {
                        contentDelivery: 'yuidoc via grunt',
                        contentProducer: 'Michael Santelia',
                        country: 'US',
                        owner: 'Michael Santelia'
                    }
                }
            }
        };
    </script>

    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>

    <script>

		var lastUpdate = new Date(document.lastModified),
			updatedMonth = lastUpdate.getMonth(),
			updatedDate = lastUpdate.getDate(),
			updatedYear = lastUpdate.getFullYear(),
			today = new Date(),
			todayMonth = today.getMonth(),
			todayDate = today.getDate(),
			todayYear = today.getFullYear(),
			monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"],
			lastUpdatedText = "",
			daysAgo = Math.floor((today - lastUpdate) / (1000*60*60*24));

		updatedMonthName = monthNames[updatedMonth];

		switch (daysAgo) {

			case 1: 
				lastUpdatedText = "Updated yesterday";
				break;
				
			case 0: 
				lastUpdatedText = "Updated today";
				break;
				
			default: 
				lastUpdatedText = "Updated " + daysAgo + " days ago";
				break;
		}

		if (daysAgo > 4) {
			lastUpdatedText = "Updated: " + updatedMonthName + " " + updatedDate + ", " + updatedYear;
		}

    </script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-1-2">
            <div style="background: url(http://1.www.s81c.com/i/v17/t/ibm-logo.png) no-repeat scroll 0px 0px transparent; width: 105px; height: 45px; margin: 0.85em 0px;text-indent:-9999px;">IBM v18 (Northstar) common Javascript documentation</div>
        </div>
        <div class="yui3-u-1-2 version">
            <em>Javascript documentation for: IBM v18 (Northstar)<br />
            	<span style="font-size: 0.6em; position: absolute; right: 35px;"><script>document.writeln(lastUpdatedText)</script></span></em>
        </div>
    </div>
    
    <p><a href="../assets../../v18-js-source-documentation.zip" style="margin-left: 10px; padding-left: 15px; background: url(http://1.www.s81c.com/i/v17/icons/ibm_sprite_transactional_blue_ON.png) no-repeat 0 -202px;">Download a copy of this documentation (ZIP).</a></p>
    
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4" style="float: left;width:25%;">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/IBMCore.common.module.backtotop.html">IBMCore.common.module.backtotop</a></li>
                                <li><a href="../classes/IBMCore.common.module.canadanotice.html">IBMCore.common.module.canadanotice</a></li>
                                <li><a href="../classes/IBMCore.common.module.contactmodule.html">IBMCore.common.module.contactmodule</a></li>
                                <li><a href="../classes/IBMCore.common.module.footer.html">IBMCore.common.module.footer</a></li>
                                <li><a href="../classes/IBMCore.common.module.footermenu.html">IBMCore.common.module.footermenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.leftnav.html">IBMCore.common.module.leftnav</a></li>
                                <li><a href="../classes/IBMCore.common.module.liveperson.html">IBMCore.common.module.liveperson</a></li>
                                <li><a href="../classes/IBMCore.common.module.localeselector.html">IBMCore.common.module.localeselector</a></li>
                                <li><a href="../classes/IBMCore.common.module.localpagenotification.html">IBMCore.common.module.localpagenotification</a></li>
                                <li><a href="../classes/IBMCore.common.module.masthead.html">IBMCore.common.module.masthead</a></li>
                                <li><a href="../classes/IBMCore.common.module.masthead.sticky.html">IBMCore.common.module.masthead.sticky</a></li>
                                <li><a href="../classes/IBMCore.common.module.mastheadbanner.html">IBMCore.common.module.mastheadbanner</a></li>
                                <li><a href="../classes/IBMCore.common.module.mastheadsearch.html">IBMCore.common.module.mastheadsearch</a></li>
                                <li><a href="../classes/IBMCore.common.module.merchandising.html">IBMCore.common.module.merchandising</a></li>
                                <li><a href="../classes/IBMCore.common.module.mobilemenu.html">IBMCore.common.module.mobilemenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.sharethiscontent.html">IBMCore.common.module.sharethiscontent</a></li>
                                <li><a href="../classes/IBMCore.common.module.sharethispage.html">IBMCore.common.module.sharethispage</a></li>
                                <li><a href="../classes/IBMCore.common.module.sitenavmenu.html">IBMCore.common.module.sitenavmenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.urx.html">IBMCore.common.module.urx</a></li>
                                <li><a href="../classes/IBMCore.common.translations.html">IBMCore.common.translations</a></li>
                                <li><a href="../classes/IBMCore.common.util.a11y.html">IBMCore.common.util.a11y</a></li>
                                <li><a href="../classes/IBMCore.common.util.addCssRule.html">IBMCore.common.util.addCssRule</a></li>
                                <li><a href="../classes/IBMCore.common.util.anchorlinkAdjustment.html">IBMCore.common.util.anchorlinkAdjustment</a></li>
                                <li><a href="../classes/IBMCore.common.util.bitly.html">IBMCore.common.util.bitly</a></li>
                                <li><a href="../classes/IBMCore.common.util.color.html">IBMCore.common.util.color</a></li>
                                <li><a href="../classes/IBMCore.common.util.config.html">IBMCore.common.util.config</a></li>
                                <li><a href="../classes/IBMCore.common.util.convertSecondsToHMS.html">IBMCore.common.util.convertSecondsToHMS</a></li>
                                <li><a href="../classes/IBMCore.common.util.cookie.html">IBMCore.common.util.cookie</a></li>
                                <li><a href="../classes/IBMCore.common.util.coreservices.html">IBMCore.common.util.coreservices</a></li>
                                <li><a href="../classes/IBMCore.common.util.data.html">IBMCore.common.util.data</a></li>
                                <li><a href="../classes/IBMCore.common.util.debug.html">IBMCore.common.util.debug</a></li>
                                <li><a href="../classes/IBMCore.common.util.eventCoordinator.html">IBMCore.common.util.eventCoordinator</a></li>
                                <li><a href="../classes/IBMCore.common.util.freezeScrollbars.html">IBMCore.common.util.freezeScrollbars</a></li>
                                <li><a href="../classes/IBMCore.common.util.gatekeeper.html">IBMCore.common.util.gatekeeper</a></li>
                                <li><a href="../classes/IBMCore.common.util.generateId.html">IBMCore.common.util.generateId</a></li>
                                <li><a href="../classes/IBMCore.common.util.getCurrentGridSize.html">IBMCore.common.util.getCurrentGridSize</a></li>
                                <li><a href="../classes/IBMCore.common.util.getDataAttributes.html">IBMCore.common.util.getDataAttributes</a></li>
                                <li><a href="../classes/IBMCore.common.util.getScrollbarWidth.html">IBMCore.common.util.getScrollbarWidth</a></li>
                                <li><a href="../classes/IBMCore.common.util.has12grid.html">IBMCore.common.util.has12grid</a></li>
                                <li><a href="../classes/IBMCore.common.util.hasScrollbars.html">IBMCore.common.util.hasScrollbars</a></li>
                                <li><a href="../classes/IBMCore.common.util.meta.html">IBMCore.common.util.meta</a></li>
                                <li><a href="../classes/IBMCore.common.util.perf.html">IBMCore.common.util.perf</a></li>
                                <li><a href="../classes/IBMCore.common.util.queue.html">IBMCore.common.util.queue</a></li>
                                <li><a href="../classes/IBMCore.common.util.scrolledintoview.html">IBMCore.common.util.scrolledintoview</a></li>
                                <li><a href="../classes/IBMCore.common.util.scrolltracker.html">IBMCore.common.util.scrolltracker</a></li>
                                <li><a href="../classes/IBMCore.common.util.setIpcCookie.html">IBMCore.common.util.setIpcCookie</a></li>
                                <li><a href="../classes/IBMCore.common.util.statshelper.html">IBMCore.common.util.statshelper</a></li>
                                <li><a href="../classes/IBMCore.common.util.storage.html">IBMCore.common.util.storage</a></li>
                                <li><a href="../classes/IBMCore.common.util.string.htmlspecialchars.html">IBMCore.common.util.string.htmlspecialchars</a></li>
                                <li><a href="../classes/IBMCore.common.util.url.html">IBMCore.common.util.url</a></li>
                                <li><a href="../classes/IBMCore.common.util.user.html">IBMCore.common.util.user</a></li>
                                <li><a href="../classes/IBMCore.common.widget.carousel.html">IBMCore.common.widget.carousel</a></li>
                                <li><a href="../classes/IBMCore.common.widget.ccfintercept.html">IBMCore.common.widget.ccfintercept</a></li>
                                <li><a href="../classes/IBMCore.common.widget.datatable.html">IBMCore.common.widget.datatable</a></li>
                                <li><a href="../classes/IBMCore.common.widget.datepicker.html">IBMCore.common.widget.datepicker</a></li>
                                <li><a href="../classes/IBMCore.common.widget.dyntabs.html">IBMCore.common.widget.dyntabs</a></li>
                                <li><a href="../classes/IBMCore.common.widget.fileinput.html">IBMCore.common.widget.fileinput</a></li>
                                <li><a href="../classes/IBMCore.common.widget.forms.html">IBMCore.common.widget.forms</a></li>
                                <li><a href="../classes/IBMCore.common.widget.formvalidator.html">IBMCore.common.widget.formvalidator</a></li>
                                <li><a href="../classes/IBMCore.common.widget.leavingibm.html">IBMCore.common.widget.leavingibm</a></li>
                                <li><a href="../classes/IBMCore.common.widget.manager.html">IBMCore.common.widget.manager</a></li>
                                <li><a href="../classes/IBMCore.common.widget.masonry.html">IBMCore.common.widget.masonry</a></li>
                                <li><a href="../classes/IBMCore.common.widget.overlay.html">IBMCore.common.widget.overlay</a></li>
                                <li><a href="../classes/IBMCore.common.widget.parallaxscroll.html">IBMCore.common.widget.parallaxscroll</a></li>
                                <li><a href="../classes/IBMCore.common.widget.rssdisplay.html">IBMCore.common.widget.rssdisplay</a></li>
                                <li><a href="../classes/IBMCore.common.widget.scrollable.html">IBMCore.common.widget.scrollable</a></li>
                                <li><a href="../classes/IBMCore.common.widget.selectlist.html">IBMCore.common.widget.selectlist</a></li>
                                <li><a href="../classes/IBMCore.common.widget.selectlistnav.html">IBMCore.common.widget.selectlistnav</a></li>
                                <li><a href="../classes/IBMCore.common.widget.setsameheight.html">IBMCore.common.widget.setsameheight</a></li>
                                <li><a href="../classes/IBMCore.common.widget.showhide.html">IBMCore.common.widget.showhide</a></li>
                                <li><a href="../classes/IBMCore.common.widget.stepindicator.html">IBMCore.common.widget.stepindicator</a></li>
                                <li><a href="../classes/IBMCore.common.widget.stickytabs.html">IBMCore.common.widget.stickytabs</a></li>
                                <li><a href="../classes/IBMCore.common.widget.syntaxhighlighter.html">IBMCore.common.widget.syntaxhighlighter</a></li>
                                <li><a href="../classes/IBMCore.common.widget.tablerowselector.html">IBMCore.common.widget.tablerowselector</a></li>
                                <li><a href="../classes/IBMCore.common.widget.tooltip.html">IBMCore.common.widget.tooltip</a></li>
                                <li><a href="../classes/IBMCore.common.widget.twisty.html">IBMCore.common.widget.twisty</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videolooper.html">IBMCore.common.widget.videolooper</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.html">IBMCore.common.widget.videoplayer</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.kaltura.html">IBMCore.common.widget.videoplayer.kaltura</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.ustream.html">IBMCore.common.widget.videoplayer.ustream</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.youtube.html">IBMCore.common.widget.videoplayer.youtube</a></li>
                                <li><a href="../classes/IBMCore.namespace.html">IBMCore.namespace</a></li>
                                <li><a href="../classes/IBMCore.www.module.dynamiccontactmodule.html">IBMCore.www.module.dynamiccontactmodule</a></li>
                                <li><a href="../classes/IBMCore.www.module.truste.html">IBMCore.www.module.truste</a></li>
                                <li><a href="../classes/jQuery.browser.html">jQuery.browser</a></li>
                                <li><a href="../classes/jQuery.fn.dataTable.html">jQuery.fn.dataTable</a></li>
                                <li><a href="../classes/jQuery.fn.slick.html">jQuery.fn.slick</a></li>
                                <li><a href="../classes/jQuery.layout.html">jQuery.layout</a></li>
                                <li><a href="../classes/jQuery.os.html">jQuery.os</a></li>
                                <li><a href="../classes/jQuery:focusable.html">jQuery:focusable</a></li>
                                <li><a href="../classes/Masonry.html">Masonry</a></li>
                                <li><a href="../classes/Modernizr.html">Modernizr</a></li>
                                <li><a href="../classes/Mustache.html">Mustache</a></li>
                                <li><a href="../classes/NanoScroll.html">NanoScroll</a></li>
                                <li><a href="../classes/Other IBM - Canada notice loader.html">Other IBM - Canada notice loader</a></li>
                                <li><a href="../classes/Other IBM - common init.html">Other IBM - common init</a></li>
                                <li><a href="../classes/Other IBM - common v18 page tracker.html">Other IBM - common v18 page tracker</a></li>
                                <li><a href="../classes/Other IBM - errorchecking.html">Other IBM - errorchecking</a></li>
                                <li><a href="../classes/Other IBM - footer feedback link.html">Other IBM - footer feedback link</a></li>
                                <li><a href="../classes/Other IBM - grid change.html">Other IBM - grid change</a></li>
                                <li><a href="../classes/Other IBM - jstimer-end.html">Other IBM - jstimer-end</a></li>
                                <li><a href="../classes/Other IBM - jstimer-start.html">Other IBM - jstimer-start</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/IBMCore.html">IBMCore</a></li>
                                <li><a href="../modules/jQuery.browser.html">jQuery.browser</a></li>
                                <li><a href="../modules/jQuery.dataTable.html">jQuery.dataTable</a></li>
                                <li><a href="../modules/jQuery.slick.html">jQuery.slick</a></li>
                                <li><a href="../modules/Masonry.html">Masonry</a></li>
                                <li><a href="../modules/Modernizr.html">Modernizr</a></li>
                                <li><a href="../modules/Mustache.html">Mustache</a></li>
                                <li><a href="../modules/Nanoscroller.html">Nanoscroller</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4"style="float: left;width:75%;">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected" checked>
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private" checked>
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated" checked>
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/js/sources/ibm/common/lib/imagesloaded.js</h1>
                        
                        <div class="file">
                            <pre class="code prettyprint linenums">
                        /*!
                         * imagesLoaded PACKAGED v4.1.3
                         * JavaScript is all like &quot;You images are done yet or what?&quot;
                         * MIT License
                         */
                        
                        /**
                         * EvEmitter v1.1.0
                         * Lil&#x27; event emitter
                         * MIT License
                         */
                        
                        /* jshint unused: true, undef: true, strict: true */
                        
                        ( function( global, factory ) {
                          // universal module definition
                          /* jshint strict: false */ /* globals define, module, window */
                          if ( typeof define == &#x27;function&#x27; &amp;&amp; define.amd ) {
                            // AMD - RequireJS
                            define( &#x27;ev-emitter/ev-emitter&#x27;,factory );
                          } else if ( typeof module == &#x27;object&#x27; &amp;&amp; module.exports ) {
                            // CommonJS - Browserify, Webpack
                            module.exports = factory();
                          } else {
                            // Browser globals
                            global.EvEmitter = factory();
                          }
                        
                        }( typeof window != &#x27;undefined&#x27; ? window : this, function() {
                        
                        
                        
                        function EvEmitter() {}
                        
                        var proto = EvEmitter.prototype;
                        
                        proto.on = function( eventName, listener ) {
                          if ( !eventName || !listener ) {
                            return;
                          }
                          // set events hash
                          var events = this._events = this._events || {};
                          // set listeners array
                          var listeners = events[ eventName ] = events[ eventName ] || [];
                          // only add once
                          if ( listeners.indexOf( listener ) == -1 ) {
                            listeners.push( listener );
                          }
                        
                          return this;
                        };
                        
                        proto.once = function( eventName, listener ) {
                          if ( !eventName || !listener ) {
                            return;
                          }
                          // add event
                          this.on( eventName, listener );
                          // set once flag
                          // set onceEvents hash
                          var onceEvents = this._onceEvents = this._onceEvents || {};
                          // set onceListeners object
                          var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};
                          // set flag
                          onceListeners[ listener ] = true;
                        
                          return this;
                        };
                        
                        proto.off = function( eventName, listener ) {
                          var listeners = this._events &amp;&amp; this._events[ eventName ];
                          if ( !listeners || !listeners.length ) {
                            return;
                          }
                          var index = listeners.indexOf( listener );
                          if ( index != -1 ) {
                            listeners.splice( index, 1 );
                          }
                        
                          return this;
                        };
                        
                        proto.emitEvent = function( eventName, args ) {
                          var listeners = this._events &amp;&amp; this._events[ eventName ];
                          if ( !listeners || !listeners.length ) {
                            return;
                          }
                          var i = 0;
                          var listener = listeners[i];
                          args = args || [];
                          // once stuff
                          var onceListeners = this._onceEvents &amp;&amp; this._onceEvents[ eventName ];
                        
                          while ( listener ) {
                            var isOnce = onceListeners &amp;&amp; onceListeners[ listener ];
                            if ( isOnce ) {
                              // remove listener
                              // remove before trigger to prevent recursion
                              this.off( eventName, listener );
                              // unset once flag
                              delete onceListeners[ listener ];
                            }
                            // trigger listener
                            listener.apply( this, args );
                            // get next listener
                            i += isOnce ? 0 : 1;
                            listener = listeners[i];
                          }
                        
                          return this;
                        };
                        
                        proto.allOff =
                        proto.removeAllListeners = function() {
                          delete this._events;
                          delete this._onceEvents;
                        };
                        
                        return EvEmitter;
                        
                        }));
                        
                        /*!
                         * imagesLoaded v4.1.3
                         * JavaScript is all like &quot;You images are done yet or what?&quot;
                         * MIT License
                         */
                        
                        ( function( window, factory ) { &#x27;use strict&#x27;;
                          // universal module definition
                        
                          /*global define: false, module: false, require: false */
                        
                          if ( typeof define == &#x27;function&#x27; &amp;&amp; define.amd ) {
                            // AMD
                            define( [
                              &#x27;ev-emitter/ev-emitter&#x27;
                            ], function( EvEmitter ) {
                              return factory( window, EvEmitter );
                            });
                          } else if ( typeof module == &#x27;object&#x27; &amp;&amp; module.exports ) {
                            // CommonJS
                            module.exports = factory(
                              window,
                              require(&#x27;ev-emitter&#x27;)
                            );
                          } else {
                            // browser global
                            window.imagesLoaded = factory(
                              window,
                              window.EvEmitter
                            );
                          }
                        
                        })( typeof window !== &#x27;undefined&#x27; ? window : this,
                        
                        // --------------------------  factory -------------------------- //
                        
                        function factory( window, EvEmitter ) {
                        
                        
                        
                        var $ = window.jQuery;
                        var console = window.console;
                        
                        // -------------------------- helpers -------------------------- //
                        
                        // extend objects
                        function extend( a, b ) {
                          for ( var prop in b ) {
                            a[ prop ] = b[ prop ];
                          }
                          return a;
                        }
                        
                        // turn element or nodeList into an array
                        function makeArray( obj ) {
                          var ary = [];
                          if ( Array.isArray( obj ) ) {
                            // use object if already an array
                            ary = obj;
                          } else if ( typeof obj.length == &#x27;number&#x27; ) {
                            // convert nodeList to array
                            for ( var i=0; i &lt; obj.length; i++ ) {
                              ary.push( obj[i] );
                            }
                          } else {
                            // array of single index
                            ary.push( obj );
                          }
                          return ary;
                        }
                        
                        // -------------------------- imagesLoaded -------------------------- //
                        
                        /**
                         * @param {Array, Element, NodeList, String} elem
                         * @param {Object or Function} options - if function, use as callback
                         * @param {Function} onAlways - callback function
                         */
                        function ImagesLoaded( elem, options, onAlways ) {
                          // coerce ImagesLoaded() without new, to be new ImagesLoaded()
                          if ( !( this instanceof ImagesLoaded ) ) {
                            return new ImagesLoaded( elem, options, onAlways );
                          }
                          // use elem as selector string
                          if ( typeof elem == &#x27;string&#x27; ) {
                            elem = document.querySelectorAll( elem );
                          }
                        
                          this.elements = makeArray( elem );
                          this.options = extend( {}, this.options );
                        
                          if ( typeof options == &#x27;function&#x27; ) {
                            onAlways = options;
                          } else {
                            extend( this.options, options );
                          }
                        
                          if ( onAlways ) {
                            this.on( &#x27;always&#x27;, onAlways );
                          }
                        
                          this.getImages();
                        
                          if ( $ ) {
                            // add jQuery Deferred object
                            this.jqDeferred = new $.Deferred();
                          }
                        
                          // HACK check async to allow time to bind listeners
                          setTimeout( function() {
                            this.check();
                          }.bind( this ));
                        }
                        
                        ImagesLoaded.prototype = Object.create( EvEmitter.prototype );
                        
                        ImagesLoaded.prototype.options = {};
                        
                        ImagesLoaded.prototype.getImages = function() {
                          this.images = [];
                        
                          // filter &amp; find items if we have an item selector
                          this.elements.forEach( this.addElementImages, this );
                        };
                        
                        /**
                         * @param {Node} element
                         */
                        ImagesLoaded.prototype.addElementImages = function( elem ) {
                          // filter siblings
                          if ( elem.nodeName == &#x27;IMG&#x27; ) {
                            this.addImage( elem );
                          }
                          // get background image on element
                          if ( this.options.background === true ) {
                            this.addElementBackgroundImages( elem );
                          }
                        
                          // find children
                          // no non-element nodes, #143
                          var nodeType = elem.nodeType;
                          if ( !nodeType || !elementNodeTypes[ nodeType ] ) {
                            return;
                          }
                          var childImgs = elem.querySelectorAll(&#x27;img&#x27;);
                          // concat childElems to filterFound array
                          for ( var i=0; i &lt; childImgs.length; i++ ) {
                            var img = childImgs[i];
                            this.addImage( img );
                          }
                        
                          // get child background images
                          if ( typeof this.options.background == &#x27;string&#x27; ) {
                            var children = elem.querySelectorAll( this.options.background );
                            for ( i=0; i &lt; children.length; i++ ) {
                              var child = children[i];
                              this.addElementBackgroundImages( child );
                            }
                          }
                        };
                        
                        var elementNodeTypes = {
                          1: true,
                          9: true,
                          11: true
                        };
                        
                        ImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {
                          var style = getComputedStyle( elem );
                          if ( !style ) {
                            // Firefox returns null if in a hidden iframe https://bugzil.la/548397
                            return;
                          }
                          // get url inside url(&quot;...&quot;)
                          var reURL = /url\(([&#x27;&quot;])?(.*?)\1\)/gi;
                          var matches = reURL.exec( style.backgroundImage );
                          while ( matches !== null ) {
                            var url = matches &amp;&amp; matches[2];
                            if ( url ) {
                              this.addBackground( url, elem );
                            }
                            matches = reURL.exec( style.backgroundImage );
                          }
                        };
                        
                        /**
                         * @param {Image} img
                         */
                        ImagesLoaded.prototype.addImage = function( img ) {
                          var loadingImage = new LoadingImage( img );
                          this.images.push( loadingImage );
                        };
                        
                        ImagesLoaded.prototype.addBackground = function( url, elem ) {
                          var background = new Background( url, elem );
                          this.images.push( background );
                        };
                        
                        ImagesLoaded.prototype.check = function() {
                          var _this = this;
                          this.progressedCount = 0;
                          this.hasAnyBroken = false;
                          // complete if no images
                          if ( !this.images.length ) {
                            this.complete();
                            return;
                          }
                        
                          function onProgress( image, elem, message ) {
                            // HACK - Chrome triggers event before object properties have changed. #83
                            setTimeout( function() {
                              _this.progress( image, elem, message );
                            });
                          }
                        
                          this.images.forEach( function( loadingImage ) {
                            loadingImage.once( &#x27;progress&#x27;, onProgress );
                            loadingImage.check();
                          });
                        };
                        
                        ImagesLoaded.prototype.progress = function( image, elem, message ) {
                          this.progressedCount++;
                          this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;
                          // progress event
                          this.emitEvent( &#x27;progress&#x27;, [ this, image, elem ] );
                          if ( this.jqDeferred &amp;&amp; this.jqDeferred.notify ) {
                            this.jqDeferred.notify( this, image );
                          }
                          // check if completed
                          if ( this.progressedCount == this.images.length ) {
                            this.complete();
                          }
                        
                          if ( this.options.debug &amp;&amp; console ) {
                            console.log( &#x27;progress: &#x27; + message, image, elem );
                          }
                        };
                        
                        ImagesLoaded.prototype.complete = function() {
                          var eventName = this.hasAnyBroken ? &#x27;fail&#x27; : &#x27;done&#x27;;
                          this.isComplete = true;
                          this.emitEvent( eventName, [ this ] );
                          this.emitEvent( &#x27;always&#x27;, [ this ] );
                          if ( this.jqDeferred ) {
                            var jqMethod = this.hasAnyBroken ? &#x27;reject&#x27; : &#x27;resolve&#x27;;
                            this.jqDeferred[ jqMethod ]( this );
                          }
                        };
                        
                        // --------------------------  -------------------------- //
                        
                        function LoadingImage( img ) {
                          this.img = img;
                        }
                        
                        LoadingImage.prototype = Object.create( EvEmitter.prototype );
                        
                        LoadingImage.prototype.check = function() {
                          // If complete is true and browser supports natural sizes,
                          // try to check for image status manually.
                          var isComplete = this.getIsImageComplete();
                          if ( isComplete ) {
                            // report based on naturalWidth
                            this.confirm( this.img.naturalWidth !== 0, &#x27;naturalWidth&#x27; );
                            return;
                          }
                        
                          // If none of the checks above matched, simulate loading on detached element.
                          this.proxyImage = new Image();
                          this.proxyImage.addEventListener( &#x27;load&#x27;, this );
                          this.proxyImage.addEventListener( &#x27;error&#x27;, this );
                          // bind to image as well for Firefox. #191
                          this.img.addEventListener( &#x27;load&#x27;, this );
                          this.img.addEventListener( &#x27;error&#x27;, this );
                          this.proxyImage.src = this.img.src;
                        };
                        
                        LoadingImage.prototype.getIsImageComplete = function() {
                          return this.img.complete &amp;&amp; this.img.naturalWidth !== undefined;
                        };
                        
                        LoadingImage.prototype.confirm = function( isLoaded, message ) {
                          this.isLoaded = isLoaded;
                          this.emitEvent( &#x27;progress&#x27;, [ this, this.img, message ] );
                        };
                        
                        // ----- events ----- //
                        
                        // trigger specified handler for event type
                        LoadingImage.prototype.handleEvent = function( event ) {
                          var method = &#x27;on&#x27; + event.type;
                          if ( this[ method ] ) {
                            this[ method ]( event );
                          }
                        };
                        
                        LoadingImage.prototype.onload = function() {
                          this.confirm( true, &#x27;onload&#x27; );
                          this.unbindEvents();
                        };
                        
                        LoadingImage.prototype.onerror = function() {
                          this.confirm( false, &#x27;onerror&#x27; );
                          this.unbindEvents();
                        };
                        
                        LoadingImage.prototype.unbindEvents = function() {
                          this.proxyImage.removeEventListener( &#x27;load&#x27;, this );
                          this.proxyImage.removeEventListener( &#x27;error&#x27;, this );
                          this.img.removeEventListener( &#x27;load&#x27;, this );
                          this.img.removeEventListener( &#x27;error&#x27;, this );
                        };
                        
                        // -------------------------- Background -------------------------- //
                        
                        function Background( url, element ) {
                          this.url = url;
                          this.element = element;
                          this.img = new Image();
                        }
                        
                        // inherit LoadingImage prototype
                        Background.prototype = Object.create( LoadingImage.prototype );
                        
                        Background.prototype.check = function() {
                          this.img.addEventListener( &#x27;load&#x27;, this );
                          this.img.addEventListener( &#x27;error&#x27;, this );
                          this.img.src = this.url;
                          // check if image is already complete
                          var isComplete = this.getIsImageComplete();
                          if ( isComplete ) {
                            this.confirm( this.img.naturalWidth !== 0, &#x27;naturalWidth&#x27; );
                            this.unbindEvents();
                          }
                        };
                        
                        Background.prototype.unbindEvents = function() {
                          this.img.removeEventListener( &#x27;load&#x27;, this );
                          this.img.removeEventListener( &#x27;error&#x27;, this );
                        };
                        
                        Background.prototype.confirm = function( isLoaded, message ) {
                          this.isLoaded = isLoaded;
                          this.emitEvent( &#x27;progress&#x27;, [ this, this.element, message ] );
                        };
                        
                        // -------------------------- jQuery -------------------------- //
                        
                        ImagesLoaded.makeJQueryPlugin = function( jQuery ) {
                          jQuery = jQuery || window.jQuery;
                          if ( !jQuery ) {
                            return;
                          }
                          // set local variable
                          $ = jQuery;
                          // $().imagesLoaded()
                          $.fn.imagesLoaded = function( options, callback ) {
                            var instance = new ImagesLoaded( this, options, callback );
                            return instance.jqDeferred.promise( $(this) );
                          };
                        };
                        // try making plugin
                        ImagesLoaded.makeJQueryPlugin();
                        
                        // --------------------------  -------------------------- //
                        
                        return ImagesLoaded;
                        
                        });
                        
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
