<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="robots" content="index,follow">
    <title>src/js/sources/ibm/common/util/accessibility.js - IBM v18 (Northstar) common Javascript documentation</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" href="http://www.ibm.com/favicon.ico">
    <script>
        digitalData = {
            page: {
                pageInfo: {
                    effectiveDate: '2017-02-25',
                    expiryDate: '2020-02-25',
                    language: 'en-US',
                    publishDate: '2017-02-25',
                    publisher: 'IBM Corporation',
                    ibm: {
                        contentDelivery: 'yuidoc via grunt',
                        contentProducer: 'Michael Santelia',
                        country: 'US',
                        owner: 'Michael Santelia'
                    }
                }
            }
        };
    </script>

    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>

    <script>

		var lastUpdate = new Date(document.lastModified),
			updatedMonth = lastUpdate.getMonth(),
			updatedDate = lastUpdate.getDate(),
			updatedYear = lastUpdate.getFullYear(),
			today = new Date(),
			todayMonth = today.getMonth(),
			todayDate = today.getDate(),
			todayYear = today.getFullYear(),
			monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"],
			lastUpdatedText = "",
			daysAgo = Math.floor((today - lastUpdate) / (1000*60*60*24));

		updatedMonthName = monthNames[updatedMonth];

		switch (daysAgo) {

			case 1: 
				lastUpdatedText = "Updated yesterday";
				break;
				
			case 0: 
				lastUpdatedText = "Updated today";
				break;
				
			default: 
				lastUpdatedText = "Updated " + daysAgo + " days ago";
				break;
		}

		if (daysAgo > 4) {
			lastUpdatedText = "Updated: " + updatedMonthName + " " + updatedDate + ", " + updatedYear;
		}

    </script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-1-2">
            <div style="background: url(http://1.www.s81c.com/i/v17/t/ibm-logo.png) no-repeat scroll 0px 0px transparent; width: 105px; height: 45px; margin: 0.85em 0px;text-indent:-9999px;">IBM v18 (Northstar) common Javascript documentation</div>
        </div>
        <div class="yui3-u-1-2 version">
            <em>Javascript documentation for: IBM v18 (Northstar)<br />
            	<span style="font-size: 0.6em; position: absolute; right: 35px;"><script>document.writeln(lastUpdatedText)</script></span></em>
        </div>
    </div>
    
    <p><a href="../assets../../v18-js-source-documentation.zip" style="margin-left: 10px; padding-left: 15px; background: url(http://1.www.s81c.com/i/v17/icons/ibm_sprite_transactional_blue_ON.png) no-repeat 0 -202px;">Download a copy of this documentation (ZIP).</a></p>
    
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4" style="float: left;width:25%;">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/IBMCore.common.module.backtotop.html">IBMCore.common.module.backtotop</a></li>
                                <li><a href="../classes/IBMCore.common.module.canadanotice.html">IBMCore.common.module.canadanotice</a></li>
                                <li><a href="../classes/IBMCore.common.module.contactmodule.html">IBMCore.common.module.contactmodule</a></li>
                                <li><a href="../classes/IBMCore.common.module.footer.html">IBMCore.common.module.footer</a></li>
                                <li><a href="../classes/IBMCore.common.module.footermenu.html">IBMCore.common.module.footermenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.leftnav.html">IBMCore.common.module.leftnav</a></li>
                                <li><a href="../classes/IBMCore.common.module.liveperson.html">IBMCore.common.module.liveperson</a></li>
                                <li><a href="../classes/IBMCore.common.module.localeselector.html">IBMCore.common.module.localeselector</a></li>
                                <li><a href="../classes/IBMCore.common.module.localpagenotification.html">IBMCore.common.module.localpagenotification</a></li>
                                <li><a href="../classes/IBMCore.common.module.masthead.html">IBMCore.common.module.masthead</a></li>
                                <li><a href="../classes/IBMCore.common.module.masthead.sticky.html">IBMCore.common.module.masthead.sticky</a></li>
                                <li><a href="../classes/IBMCore.common.module.mastheadbanner.html">IBMCore.common.module.mastheadbanner</a></li>
                                <li><a href="../classes/IBMCore.common.module.mastheadsearch.html">IBMCore.common.module.mastheadsearch</a></li>
                                <li><a href="../classes/IBMCore.common.module.merchandising.html">IBMCore.common.module.merchandising</a></li>
                                <li><a href="../classes/IBMCore.common.module.mobilemenu.html">IBMCore.common.module.mobilemenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.sharethiscontent.html">IBMCore.common.module.sharethiscontent</a></li>
                                <li><a href="../classes/IBMCore.common.module.sharethispage.html">IBMCore.common.module.sharethispage</a></li>
                                <li><a href="../classes/IBMCore.common.module.sitenavmenu.html">IBMCore.common.module.sitenavmenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.urx.html">IBMCore.common.module.urx</a></li>
                                <li><a href="../classes/IBMCore.common.translations.html">IBMCore.common.translations</a></li>
                                <li><a href="../classes/IBMCore.common.util.a11y.html">IBMCore.common.util.a11y</a></li>
                                <li><a href="../classes/IBMCore.common.util.addCssRule.html">IBMCore.common.util.addCssRule</a></li>
                                <li><a href="../classes/IBMCore.common.util.anchorlinkAdjustment.html">IBMCore.common.util.anchorlinkAdjustment</a></li>
                                <li><a href="../classes/IBMCore.common.util.bitly.html">IBMCore.common.util.bitly</a></li>
                                <li><a href="../classes/IBMCore.common.util.color.html">IBMCore.common.util.color</a></li>
                                <li><a href="../classes/IBMCore.common.util.config.html">IBMCore.common.util.config</a></li>
                                <li><a href="../classes/IBMCore.common.util.convertSecondsToHMS.html">IBMCore.common.util.convertSecondsToHMS</a></li>
                                <li><a href="../classes/IBMCore.common.util.cookie.html">IBMCore.common.util.cookie</a></li>
                                <li><a href="../classes/IBMCore.common.util.coreservices.html">IBMCore.common.util.coreservices</a></li>
                                <li><a href="../classes/IBMCore.common.util.data.html">IBMCore.common.util.data</a></li>
                                <li><a href="../classes/IBMCore.common.util.debug.html">IBMCore.common.util.debug</a></li>
                                <li><a href="../classes/IBMCore.common.util.eventCoordinator.html">IBMCore.common.util.eventCoordinator</a></li>
                                <li><a href="../classes/IBMCore.common.util.freezeScrollbars.html">IBMCore.common.util.freezeScrollbars</a></li>
                                <li><a href="../classes/IBMCore.common.util.gatekeeper.html">IBMCore.common.util.gatekeeper</a></li>
                                <li><a href="../classes/IBMCore.common.util.generateId.html">IBMCore.common.util.generateId</a></li>
                                <li><a href="../classes/IBMCore.common.util.getCurrentGridSize.html">IBMCore.common.util.getCurrentGridSize</a></li>
                                <li><a href="../classes/IBMCore.common.util.getDataAttributes.html">IBMCore.common.util.getDataAttributes</a></li>
                                <li><a href="../classes/IBMCore.common.util.getScrollbarWidth.html">IBMCore.common.util.getScrollbarWidth</a></li>
                                <li><a href="../classes/IBMCore.common.util.has12grid.html">IBMCore.common.util.has12grid</a></li>
                                <li><a href="../classes/IBMCore.common.util.hasScrollbars.html">IBMCore.common.util.hasScrollbars</a></li>
                                <li><a href="../classes/IBMCore.common.util.meta.html">IBMCore.common.util.meta</a></li>
                                <li><a href="../classes/IBMCore.common.util.perf.html">IBMCore.common.util.perf</a></li>
                                <li><a href="../classes/IBMCore.common.util.queue.html">IBMCore.common.util.queue</a></li>
                                <li><a href="../classes/IBMCore.common.util.scrolledintoview.html">IBMCore.common.util.scrolledintoview</a></li>
                                <li><a href="../classes/IBMCore.common.util.scrolltracker.html">IBMCore.common.util.scrolltracker</a></li>
                                <li><a href="../classes/IBMCore.common.util.setIpcCookie.html">IBMCore.common.util.setIpcCookie</a></li>
                                <li><a href="../classes/IBMCore.common.util.statshelper.html">IBMCore.common.util.statshelper</a></li>
                                <li><a href="../classes/IBMCore.common.util.storage.html">IBMCore.common.util.storage</a></li>
                                <li><a href="../classes/IBMCore.common.util.string.htmlspecialchars.html">IBMCore.common.util.string.htmlspecialchars</a></li>
                                <li><a href="../classes/IBMCore.common.util.url.html">IBMCore.common.util.url</a></li>
                                <li><a href="../classes/IBMCore.common.util.user.html">IBMCore.common.util.user</a></li>
                                <li><a href="../classes/IBMCore.common.widget.carousel.html">IBMCore.common.widget.carousel</a></li>
                                <li><a href="../classes/IBMCore.common.widget.ccfintercept.html">IBMCore.common.widget.ccfintercept</a></li>
                                <li><a href="../classes/IBMCore.common.widget.datatable.html">IBMCore.common.widget.datatable</a></li>
                                <li><a href="../classes/IBMCore.common.widget.datepicker.html">IBMCore.common.widget.datepicker</a></li>
                                <li><a href="../classes/IBMCore.common.widget.dyntabs.html">IBMCore.common.widget.dyntabs</a></li>
                                <li><a href="../classes/IBMCore.common.widget.fileinput.html">IBMCore.common.widget.fileinput</a></li>
                                <li><a href="../classes/IBMCore.common.widget.forms.html">IBMCore.common.widget.forms</a></li>
                                <li><a href="../classes/IBMCore.common.widget.formvalidator.html">IBMCore.common.widget.formvalidator</a></li>
                                <li><a href="../classes/IBMCore.common.widget.leavingibm.html">IBMCore.common.widget.leavingibm</a></li>
                                <li><a href="../classes/IBMCore.common.widget.manager.html">IBMCore.common.widget.manager</a></li>
                                <li><a href="../classes/IBMCore.common.widget.masonry.html">IBMCore.common.widget.masonry</a></li>
                                <li><a href="../classes/IBMCore.common.widget.overlay.html">IBMCore.common.widget.overlay</a></li>
                                <li><a href="../classes/IBMCore.common.widget.parallaxscroll.html">IBMCore.common.widget.parallaxscroll</a></li>
                                <li><a href="../classes/IBMCore.common.widget.rssdisplay.html">IBMCore.common.widget.rssdisplay</a></li>
                                <li><a href="../classes/IBMCore.common.widget.scrollable.html">IBMCore.common.widget.scrollable</a></li>
                                <li><a href="../classes/IBMCore.common.widget.selectlist.html">IBMCore.common.widget.selectlist</a></li>
                                <li><a href="../classes/IBMCore.common.widget.selectlistnav.html">IBMCore.common.widget.selectlistnav</a></li>
                                <li><a href="../classes/IBMCore.common.widget.setsameheight.html">IBMCore.common.widget.setsameheight</a></li>
                                <li><a href="../classes/IBMCore.common.widget.showhide.html">IBMCore.common.widget.showhide</a></li>
                                <li><a href="../classes/IBMCore.common.widget.stepindicator.html">IBMCore.common.widget.stepindicator</a></li>
                                <li><a href="../classes/IBMCore.common.widget.stickytabs.html">IBMCore.common.widget.stickytabs</a></li>
                                <li><a href="../classes/IBMCore.common.widget.syntaxhighlighter.html">IBMCore.common.widget.syntaxhighlighter</a></li>
                                <li><a href="../classes/IBMCore.common.widget.tablerowselector.html">IBMCore.common.widget.tablerowselector</a></li>
                                <li><a href="../classes/IBMCore.common.widget.tooltip.html">IBMCore.common.widget.tooltip</a></li>
                                <li><a href="../classes/IBMCore.common.widget.twisty.html">IBMCore.common.widget.twisty</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videolooper.html">IBMCore.common.widget.videolooper</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.html">IBMCore.common.widget.videoplayer</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.kaltura.html">IBMCore.common.widget.videoplayer.kaltura</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.ustream.html">IBMCore.common.widget.videoplayer.ustream</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.youtube.html">IBMCore.common.widget.videoplayer.youtube</a></li>
                                <li><a href="../classes/IBMCore.namespace.html">IBMCore.namespace</a></li>
                                <li><a href="../classes/IBMCore.www.module.dynamiccontactmodule.html">IBMCore.www.module.dynamiccontactmodule</a></li>
                                <li><a href="../classes/IBMCore.www.module.truste.html">IBMCore.www.module.truste</a></li>
                                <li><a href="../classes/jQuery.browser.html">jQuery.browser</a></li>
                                <li><a href="../classes/jQuery.fn.dataTable.html">jQuery.fn.dataTable</a></li>
                                <li><a href="../classes/jQuery.fn.slick.html">jQuery.fn.slick</a></li>
                                <li><a href="../classes/jQuery.layout.html">jQuery.layout</a></li>
                                <li><a href="../classes/jQuery.os.html">jQuery.os</a></li>
                                <li><a href="../classes/jQuery:focusable.html">jQuery:focusable</a></li>
                                <li><a href="../classes/Masonry.html">Masonry</a></li>
                                <li><a href="../classes/Modernizr.html">Modernizr</a></li>
                                <li><a href="../classes/Mustache.html">Mustache</a></li>
                                <li><a href="../classes/NanoScroll.html">NanoScroll</a></li>
                                <li><a href="../classes/Other IBM - Canada notice loader.html">Other IBM - Canada notice loader</a></li>
                                <li><a href="../classes/Other IBM - common init.html">Other IBM - common init</a></li>
                                <li><a href="../classes/Other IBM - common v18 page tracker.html">Other IBM - common v18 page tracker</a></li>
                                <li><a href="../classes/Other IBM - errorchecking.html">Other IBM - errorchecking</a></li>
                                <li><a href="../classes/Other IBM - footer feedback link.html">Other IBM - footer feedback link</a></li>
                                <li><a href="../classes/Other IBM - grid change.html">Other IBM - grid change</a></li>
                                <li><a href="../classes/Other IBM - jstimer-end.html">Other IBM - jstimer-end</a></li>
                                <li><a href="../classes/Other IBM - jstimer-start.html">Other IBM - jstimer-start</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/IBMCore.html">IBMCore</a></li>
                                <li><a href="../modules/jQuery.browser.html">jQuery.browser</a></li>
                                <li><a href="../modules/jQuery.dataTable.html">jQuery.dataTable</a></li>
                                <li><a href="../modules/jQuery.slick.html">jQuery.slick</a></li>
                                <li><a href="../modules/Masonry.html">Masonry</a></li>
                                <li><a href="../modules/Modernizr.html">Modernizr</a></li>
                                <li><a href="../modules/Mustache.html">Mustache</a></li>
                                <li><a href="../modules/Nanoscroller.html">Nanoscroller</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4"style="float: left;width:75%;">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected" checked>
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private" checked>
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated" checked>
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/js/sources/ibm/common/util/accessibility.js</h1>
                        
                        <div class="file">
                            <pre class="code prettyprint linenums">
                        /**
                        
                        	Accessibility utilities.
                        	&lt;br /&gt;Things in here are only cases where it&#x27;s not feasible nor realistic for the page dev to put 
                        	proper accessibility keyboard controls (required by JS) on an element. Item here are for __page shell elements only__.
                        	&lt;br /&gt;
                        	&lt;br /&gt;Currently these are generic a11y utilities and widgets, and only contain inits for 
                        	 primary tabs (since there&#x27;s no other JS associated with them.)
                        	&lt;br /&gt;
                        	&lt;br /&gt;Accessibility is responsibility of the thing that generates the HTML element on the page:
                        	&lt;br /&gt;Template generator or widget&#x27;s JS or page developer (for content space HTML).
                        
                        	@class IBMCore.common.util.a11y
                        	
                        **/
                        
                        (function ($, IBM) {
                        
                        	var me = IBM.namespace(IBM, &quot;common.util.a11y&quot;);
                        
                        	/**
                        		Take a named list element (UL) and setup standard tree (WAI tree widget) keyboard accessibility controls for it.
                        		&lt;br /&gt;A &quot;tree&quot; is a specifially designed a11y widget which is simply a list with items and nested lists.
                        		&lt;br /&gt;A tree usually has a &quot;selected&quot; state so tab focus-in should goto the active/highlighted element.
                        		&lt;br /&gt;There&#x27;s not much flexibility in the core structure: UL &gt; LI &gt; A + UL &gt; LI &gt; A, etc. and because of this, this a11y 
                        		widget can be applied to *any* tree-type HTML structure to satisfy a11y requirements b/c it relies on the required HTML 
                        		structure and can easily use .next() and .prev() and .parent() successfully.
                        		&lt;br /&gt;How it works: This widget uses .on() and delegated event handling, which means tree items/links can be dynamically 
                        		injected at any time and they will automatically work in the flow of the keyboard controls without needing to re-init 
                        		or specifically bind the new items.
                        		
                        		@method makeTreeAccessible
                        		@param settings {Object} Settings for the tree accessibility widget.
                        		@param settings.el {DOM element} The UL to apply the tree accessibility controls to.
                        		@param [settings.focus] {Function} A custom function to call on focus of an element in the tree. Gets passed the element and 
                        		the event object.
                        		@param [settings.keydown] {Function} A custom function to call on keydown on an element in the tree. Gets passed the element 
                        		and the event object.	
                        	**/
                        	me.makeTreeAccessible = function (settings) {
                        		// Stop if the element we need to make accessible doesn&#x27;t exist.
                        		var $rootEl = $(settings.el);
                        		if (!settings.el) {
                        			return;
                        		}
                        		
                        		// Setup left nav so only the ONE link with aria-selected=&quot;true&quot; is the one that gets the tabstop (set index: -1 on everyone but it).
                        		// Once we set tabindex here, it never changes. Only focus changes. Tabindex ALWAYS stays on the aria-selected link.
                        		setLinkAsActive($rootEl, $rootEl.find(&quot;a[aria-selected=&#x27;true&#x27;]&quot;));
                        		
                        		// Setup left nav for single tab stop and inter-nav keyboard control.
                        		// Uses delegated event binding so any dynamic links added post load will be binded.
                        		// On focus of a link in the tab set: ONLY CHANGE FOCUS.
                        		// On keydown of a link in the tab set: Goto start/end/prev/next or click depending what key was pressed.
                        		$rootEl.on(&quot;focus&quot;, &quot;a&quot;, function(evt) {
                        			// Since this is false, it just updates the UL indexnum value which is used for prev/next control to know where to go.
                        			//setLinkAsActive($rootEl, $(this), false);
                        			
                        			// If a focus callback was defined, call it.
                        			if (settings.focus) {
                        				settings.focus(this, evt);
                        			}
                        		}).on(&quot;keydown&quot;, &quot;a&quot;, function(evt) {
                        			var $currentLink = $(this);
                        
                        			switch (evt.keyCode) {
                        				case 9:  // Tab
                        					// Do nothing. Let browser goto next tabstop.
                        					break;
                        					
                        				case 32:  // Spacebar
                        					evt.preventDefault();
                        					$currentLink.click();
                        					break;
                        					
                        				case 35:  // End key
                        					evt.preventDefault();
                        					gotoLastItem($rootEl);
                        					break;
                        				
                        				case 36:  // Home key
                        					evt.preventDefault();
                        					gotoFirstItem($rootEl);
                        					break;
                        				
                        				case 37:  // Left arrow
                        					evt.preventDefault();
                        					gotoParentTreeLink($currentLink);
                        					break;
                        				
                        				case 38:  // Up arrow
                        					evt.preventDefault();
                        					gotoPrevTreeLink($currentLink);
                        					break;
                        					
                        				case 39:  // Right arrow
                        					evt.preventDefault();
                        					gotoChildTreeLink($rootEl);
                        					break;
                        					
                        				case 40:  // Down arrow
                        					evt.preventDefault();
                        					gotoNextTreeLink($rootEl);
                        					break;
                        			}
                        			
                        			// If a keydown callback was defined, call it.
                        			if (settings.keydown) {
                        				settings.keydown(this, evt);
                        			}
                        		});
                        	};
                        	
                        	/**
                        		Take a named list element (UL) and setup standard menu (WAI menu widget) keyboard accessibility controls for it.
                        		&lt;br /&gt;A &quot;menu&quot; is a specifially designed a11y widget which is simply a list with items and nested lists.
                        		&lt;br /&gt;The menu is a single tab stop and controls within the menu items is done via arrow keys.
                        		&lt;br /&gt;A menu does NOT need (and typically doesn&#x27;t have) a &quot;selected&quot; state so tab focus in is usually just on the first element. As well, it does not need to remember what menu item you were on, when focus is removed.
                        		&lt;br /&gt;There&#x27;s not much flexibility in the core structure: UL &gt; LI &gt; A + UL &gt; LI &gt; A, etc. and because of this, this a11y 
                        		widget can be applied to *any* menu-type HTML structure to satisfy a11y requirements b/c it relies on the required HTML 
                        		structure and can easily use .next() and .prev() and .parent() successfully.
                        		&lt;br /&gt;How it works: This widget uses .on() and delegated event handling, which means menu items/links can be dynamically 
                        		injected at any time and they will automatically work in the flow of the keyboard controls without needing to re-init 
                        		or specifically bind the new items.
                        		
                        		@method makeMenuAccessible
                        		@param settings {Object}  Object with optional cookie settings:
                        		@param settings.el {DOM element} The UL to apply the menu accessibility controls to.
                        		@param [settings.focus] {Function} A custom function to call on focus of an element in the menu. Gets passed the element and 
                        		the event object.
                        		@param [settings.keydown] {Function} A custom function to call on keydown on an element in the menu. Gets passed the element 
                        	**/
                        	me.makeMenuAccessible = function (settings) {
                        		// Stop if the element we need to make accessible doesn&#x27;t exist.
                        		var $rootEl = $(settings.el);
                        		if (!settings.el) {
                        			return;
                        		}
                        
                        		// A menu system shouldn&#x27;t have a pre-focused item. We can say it&#x27;s selected/highlighted, but jumping to 
                        		//  a focused item would be wonky that&#x27;s why you don&#x27;t do it.
                        
                        		// A menu looks like this with ARIA attrs:
                        		//  (UL)menubar (top-level UL)
                        		//	  (button)menuitem    menuitem    menuitem    menuitem  
                        		//	  (UL)menu        menu        menu        menu
                        		//	    (A)menuitem    menuitem    menuitem    menuitem  
                        		
                        		// For a11y example how it&#x27;s supposed to work:  
                        		// Keyboard controls: https://www.w3.org/WAI/GL/wiki/Using_ARIA_menus#Success_Criteria_2.1.1_Keyboard
                        		// Example (from URL above): http://oaa-accessibility.org/examplep/menubar1/
                        		
                        		// Controls are based on aria-role tagging. 
                        		// If a web dev doesn&#x27;t tag them properly, then we don&#x27;t know how to control it with arrow keys!
                        
                        		// Uses delegated event binding so any dynamic links added post load will be binded.
                        		// NOTE: The &quot;rootEl&quot; is the outermost, main UL.
                        
                        		// Take all menu items out of the tab order except the first one. Tabbing onto the menu system always goes to first item.
                        		$rootEl.find(&quot;:focusable&quot;).attr(&quot;tabindex&quot;, -1).filter(&quot;:first&quot;).attr(&quot;tabindex&quot;, 0);
                        
                        		$rootEl.on(&quot;focus&quot;, &quot;a, button&quot;, function (evt) {
                        			// If a focus callback was defined, call it.
                        			if (settings.focus) {
                        				settings.focus(this, evt);
                        			}
                        		}).on(&quot;keydown&quot;, &quot;a, button&quot;, function (evt) {
                        			var $currentLink = $(this);
                        
                        			switch (evt.keyCode) {
                        				case 9:  // Tab
                        					// Remove any active classes and let browser goto next tabstop.
                        					$rootEl.find(&quot;.ibm-active&quot;).removeClass(&quot;ibm-active&quot;);
                        					break;
                        					
                        				case 27:  // Esc
                        					// Close menu
                        					$rootEl.find(&quot;.ibm-active&quot;).removeClass(&quot;ibm-active&quot;);
                        					break;
                        					
                        				case 32:  // Spacebar
                        					evt.preventDefault();
                        					$currentLink.click();
                        					break;
                        					
                        				case 35:  // End key
                        					evt.preventDefault();
                        					gotoLastItem($rootEl);
                        					break;
                        				
                        				case 36:  // Home key
                        					evt.preventDefault();
                        					gotoFirstItem($rootEl);
                        					break;
                        				
                        				case 37:  // Left arrow
                        					evt.preventDefault();
                        					menuLeftArrowControl($currentLink);
                        					break;
                        				
                        				case 38:  // Up arrow
                        					evt.preventDefault();
                        					menuUpArrowControl($currentLink);
                        					break;
                        					
                        				case 39:  // Right arrow
                        					evt.preventDefault();
                        					menuRightArrowControl($currentLink);
                        					break;
                        					
                        				case 40:  // Down arrow
                        					evt.preventDefault();
                        					menuDownArrowControl($currentLink);
                        					break;
                        			}
                        			
                        			// If a keydown callback was defined, call it.
                        			if (settings.keydown) {
                        				settings.keydown(this, evt);
                        			}
                        		});
                        	};
                        
                        	/**
                        		On callback of down arrow; checks if there&#x27;s a menu for the current item. If so, it opens and goes to first item in
                        		the menu, else it goes to the next sibling item to the item passed.
                        
                        		@method menuDownArrowControl
                        		@private
                        		@param $currentItemLink {jQuery selector} The currently focused link.
                        	**/
                        	function menuDownArrowControl ($currentItemLink) {
                        		// If we&#x27;re on a menubar item, open the menu and focus on the first item in the menu.
                        		// Else just focus down to the next item.
                        		if ($currentItemLink.closest(&quot;ul&quot;).attr(&quot;role&quot;) === &quot;menubar&quot;) {
                        			if ($currentItemLink.siblings(&quot;ul&quot;)[0]) {
                        				openMenu($currentItemLink);
                        				gotoFirstItem($currentItemLink.siblings(&quot;ul&quot;));
                        			}
                        			else {
                        				gotoNextLink($currentItemLink.closest(&quot;ul&quot;));
                        				openMenu($currentItemLink.parent(&quot;li&quot;).next(&quot;li&quot;));
                        				gotoFirstItem($currentItemLink.parent(&quot;li&quot;).next(&quot;li&quot;).children(&quot;ul&quot;));
                        			}
                        		}
                        		else {
                        			gotoNextItem($currentItemLink);
                        		}
                        	}
                        
                        	/**
                        		Adds an active class to the current main item&#x27;s parent. Doesn&#x27;t actually &quot;open&quot; the menu, but sets a class
                        		on the parent and CSS &quot;shows&quot; the nested UL based on that class.
                        		&lt;br/&gt;Used in conjunction with &quot;gotoFirstItem&quot; (called after this is called).
                        
                        		@method openMenu
                        		@private
                        		@param $currentItemLink {jQuery selector} The currently focused link.
                        	**/
                        	function openMenu ($currentItemLink) {
                        		$currentItemLink.parent(&quot;li&quot;).addClass(&quot;ibm-active&quot;).siblings().removeClass(&quot;ibm-active&quot;);
                        	}
                        
                        	/**
                        		On callback of right arrow. If there&#x27;s no next item, loops to first one. If focus is on a sub-menu item, it hops to the next
                        		main menu bar item and opens that menu (if exists), else just highlights the next main menu item or loops to first one.
                        
                        		@method menuRightArrowControl
                        		@private
                        		@param $currentItemLink {jQuery selector} The currently focused link.
                        	**/
                        	function menuRightArrowControl ($currentItemLink) {
                        		// If I&#x27;m on a main menu link and there&#x27;s a next one, open it and focus on first item.
                        		// Else wrap to first main item and open and focus.
                        		var $thisMenubarLi = $currentItemLink.closest(&quot;ul[role=&#x27;menu&#x27;]&quot;).parent(&quot;li&quot;),
                        			$thisParentLi = $currentItemLink.parent(&quot;li&quot;),
                        			$nextMenuItem;
                        
                        		
                        		if ($thisMenubarLi.next(&quot;li&quot;).length === 1) {
                        			$nextMenuItem = $thisMenubarLi.next(&quot;li&quot;);
                        		}
                        		else if ($thisMenubarLi.next(&quot;li&quot;).length === 0 &amp;&amp; $thisMenubarLi.siblings(&quot;li&quot;).length &gt; 0) {
                        			$nextMenuItem = $thisMenubarLi.parent(&quot;ul&quot;).children(&quot;li:first&quot;);
                        		}
                        		else {
                        			$nextMenuItem = $thisParentLi.next(&quot;li&quot;);
                        		}
                        
                        		if ($nextMenuItem[0]) {
                        			$nextMenuItem = $nextMenuItem.siblings().removeClass(&quot;ibm-active&quot;).end().addClass(&quot;ibm-active&quot;).find(&quot;:focusable&quot;).first().focus();
                        			gotoFirstItem($nextMenuItem.siblings(&quot;ul&quot;));
                        		}
                        		else {
                        			gotoFirstItem($currentItemLink.closest(&quot;ul&quot;));
                        		}
                        	}
                        
                        	/**
                        		On callback of left arrow. If there&#x27;s no previous item, loops to last one. If focus is on a sub-menu item, it hops to the previous
                        		main menu bar item and opens that menu (if exists), else just highlights the previous main menu item or loops to last one.
                        
                        		@method menuLeftArrowControl
                        		@private
                        		@param $currentItemLink {jQuery selector} The currently focused link.
                        	**/
                        	function menuLeftArrowControl ($currentItemLink) {
                        		// If I&#x27;m on a main menu link and there&#x27;s a next one, open it and focus on first item.
                        		// Else wrap to first main item and open and focus.
                        		var $thisMenubarLi = $currentItemLink.closest(&quot;ul[role=&#x27;menu&#x27;]&quot;).parent(&quot;li&quot;),
                        			$thisParentLi = $currentItemLink.parent(&quot;li&quot;),
                        			$nextMenuItem;
                        
                        		
                        		if ($thisMenubarLi.prev(&quot;li&quot;).length === 1) {
                        			$nextMenuItem = $thisMenubarLi.prev(&quot;li&quot;);
                        		}
                        		else if ($thisMenubarLi.prev(&quot;li&quot;).length === 0 &amp;&amp; $thisMenubarLi.siblings(&quot;li&quot;).length &gt; 0) {
                        			$nextMenuItem = $thisMenubarLi.parent(&quot;ul&quot;).children(&quot;li:last&quot;);
                        		}
                        		else {
                        			$nextMenuItem = $thisParentLi.prev(&quot;li&quot;).length === 1 ? $thisParentLi.prev(&quot;li&quot;) : $thisParentLi.siblings(&quot;li:last&quot;);
                        		}
                        
                        		if ($nextMenuItem[0]) {
                        			$nextMenuItem = $nextMenuItem.siblings().removeClass(&quot;ibm-active&quot;).end().addClass(&quot;ibm-active&quot;).find(&quot;:focusable&quot;).first().focus();
                        			gotoFirstItem($nextMenuItem.siblings(&quot;ul&quot;));
                        		}
                        		else {
                        			gotoLastItem($currentItemLink.closest(&quot;ul&quot;));
                        		}
                        	}
                        
                        	/**
                        		On callback of up arrow; checks if there&#x27;s a menu for the current item. If so, it opens and goes to first item in
                        		the menu, else it goes to the previous sibling item to the item passed.
                        
                        		@method menuUpArrowControl
                        		@private
                        		@param $currentItemLink {jQuery selector} The currently focused link.
                        	**/
                        	function menuUpArrowControl ($currentItemLink) {
                        		// If we&#x27;re on a menubar item, open the menu and focus on the first item in the menu.
                        		// Else just focus down to the next item.
                        		var $prevLink = $currentItemLink.parent(&quot;li&quot;).prev(&quot;li&quot;);
                        
                        		if ($currentItemLink.closest(&quot;ul&quot;).attr(&quot;role&quot;) === &quot;menubar&quot;) {
                        			if ($currentItemLink.siblings(&quot;ul&quot;)[0]) {
                        				openMenu($currentItemLink);
                        				gotoFirstItem($currentItemLink.siblings(&quot;ul&quot;));
                        			}
                        			else {
                        				gotoPrevLink($currentItemLink.closest(&quot;ul&quot;));
                        				openMenu($currentItemLink.closest(&quot;ul&quot;).children(&quot;li:last&quot;));
                        				gotoFirstItem($currentItemLink.closest(&quot;ul&quot;).children(&quot;li:last&quot;).children(&quot;ul&quot;));
                        			}
                        		}
                        		else if ($prevLink[0]) {
                        			gotoPrevLink($currentItemLink.closest(&quot;ul&quot;));
                        		}
                        		else {
                        			gotoLastItem($currentItemLink.closest(&quot;ul&quot;));
                        		}
                        	}
                        	
                        	/**
                        		Take a named SINGLE tab set (a UL) and setup standard tabs (WAI tablist) keyboard accessibility controls for it.
                        		&lt;br /&gt;What&#x27;s special: This a11y control widget applies to a single UL, not nested ULs (like a &quot;tree&quot;). It differs from a 
                        		toolbar b/c it has one &quot;selected&quot; item, and the tabindex does __not__ change, which are the opposite of a menubar
                        		&lt;br /&gt;The HTML structure of tabs are generally the same, but not always and can&#x27;t guarantee they are in UL format. DIVs are 
                        		starting to replace ULs for tabbing and menus structure. 
                        		&lt;b /&gt;Since we can&#x27;t be 100% sure what level links are coded in tabs, we can&#x27;t use .next/prev() because the link might be 
                        		in a span, or in a LI, or in a span in a LI, etc. or even a DIV, and the next one might need to be traversed via a parent() 
                        		or parent.parent(). 
                        		&lt;br /&gt;How it works: It works the same as the toolbar a11y widget: We collect an array of __all__ links in the UL no matter 
                        		how they are nested in HTML, and use their index # from the arrayto determine the prev/next link to focus on. This widget 
                        		uses .on() and delegated event handling, which means tree items/links can be dynamically injected at any time and they will 
                        		automatically work in the flow of the keyboard controls without needing to re-init or specifically bind the new items.
                        		&lt;br /&gt;An example where is is used is primary-tabs and secondary-tabs on a tab nav layout page.
                        		
                        		@method makeTabsAccessible
                        		@param settings {Object} Settings for the tablist accessibility widget.
                        		@param settings.el {DOM element} The element/container to apply the tablist a11y controls to.
                        		@param [settings.focus] {Function} A custom function to call on focus of an element in the tablist. Gets passed the element and 
                        		the event object.
                        		@param [settings.keydown] {Function} A custom function to call on keydown on an element in the tablist. Gets passed the element 
                        		and the event object.	
                        	**/
                        	me.makeTabsAccessible = function (settings) {
                        		// Stop if the element we need to make accessible doesn&#x27;t exist.
                        		var $rootEl = $(settings.el);
                        		if (!settings.el) {
                        			return;
                        		}
                        		
                        		// Setup tabs so only the one with aria-selected=&quot;true&quot; is the one that gets the tabstop (set index: -1 on everyone but it).
                        		// Uses false b/c we setup/alter tabstops in this one call and never again for this widget type.
                        		setLinkAsActive($rootEl, $rootEl.find(&quot;a[aria-selected=&#x27;true&#x27;]&quot;));
                        			
                        		// Setup tabs for single tab stop and inter-nav keyboard control.
                        		// Uses delegated event binding so any dynamic links added post load will be binded.
                        		// On focus of a link in the tab set: ONLY CHANGE FOCUS.
                        		// On keydown of a link in the tab set: Goto start/end/prev/next or click depending what key was pressed.
                        		$rootEl.on(&quot;focus&quot;, &quot;a&quot;, function(evt) {
                        			// If a focus callback was defined, call it.
                        			if (settings.focus) {
                        				settings.focus(this, evt);
                        			}
                        		}).on(&quot;keydown&quot;, &quot;a&quot;, function(evt) {
                        			switch (evt.keyCode) {
                        				case 9:  // Tab
                        					// Do nothing. Let browser goto next tabstop.
                        					break;
                        					
                        				case 32:  // Spacebar
                        					evt.preventDefault();
                        					$(this).click();
                        					break;
                        					
                        				case 35:  // End key
                        					evt.preventDefault();
                        					gotoLastItem($rootEl);
                        					break;
                        				
                        				case 36:  // Home key
                        					evt.preventDefault();
                        					gotoFirstItem($rootEl);
                        					break;
                        				
                        				case 37:  // Left arrow
                        					evt.preventDefault();
                        					gotoPrevLink($rootEl);
                        					break;
                        				
                        				case 38:  // Up arrow
                        					evt.preventDefault();
                        					gotoPrevLink($rootEl);
                        					break;
                        					
                        				case 39:  // Right arrow
                        					evt.preventDefault();
                        					gotoNextLink($rootEl);
                        					break;
                        					
                        				case 40:  // Down arrow
                        					evt.preventDefault();
                        					gotoNextLink($rootEl);
                        					break;
                        			}
                        			
                        			// If a keydown callback was defined, call it.
                        			if (settings.keydown) {
                        				settings.keydown(this, evt);
                        			}
                        		});
                        	};
                        	
                        	/**
                        		Take a named element (a toolbar container) and setup standard toolbar (WAI toolbar) keyboard accessibility controls for it.
                        		&lt;br /&gt;What&#x27;s special: This a11y control widget applies to a container of links, which are serial in nature/display and do not 
                        		contain nested, dropdown, or dynamic changing content. It differs from a tablist b/c it has never has a &quot;selected&quot; item, but 
                        		has a single tabstop which chnages based on the last focus&#x27;d item, which is the opposite of tabs.
                        		&lt;br /&gt;The HTML structure of a toolbar is completely unknown. Because of this we can&#x27;t use .next/prev() because there is no way 
                        		to know what level of HTML nesting the actual link is in. 
                        		&lt;br /&gt;How it works: It works the same as the tablist a11y widget: We collect an array of __all__ links in the toolbar container 
                        		no matter how they are nested in HTML, and use their index # from the array to determine the prev/next link to focus on. This 
                        		widget uses .on() and delegated event handling, which means tree items/links can be dynamically injected at any time and they will automatically work in the flow of the keyboard controls without needing to re-init or specifically bind the new items.
                        		&lt;br /&gt;An example where is is used is the masthead country/lang links, and the social sharing toolbar.
                        
                        		@method makeToolbarAccessible
                        		@param settings {Object} Settings for the toolbar accessibility widget.
                        		@param settings.el {DOM element} The element/container to apply the toolbar a11y controls to.
                        		@param [settings.focus] {Function} A custom function to call on focus of an element in the toolbar. Gets passed the element 
                        		and the event object.
                        		@param [settings.keydown] {Function} A custom function to call on keydown on an element in the toolbar. Gets passed the element 
                        		and the event object.	
                        	**/
                        	me.makeToolbarAccessible = function (settings) {
                        		// Stop if the element we need to make accessible doesn&#x27;t exist.
                        		var $rootEl = $(settings.el);
                        		if (!settings.el) {
                        			return;
                        		}
                        
                        		//console.log($(settings.el));
                        		
                        		//settings = $.extend({useActiveClass: true}, settings);
                        		
                        		// Setup toolbar for single tab stop and inter-nav keyboard control.
                        		// Uses delegated event binding so any dynamic links added post load will be binded.
                        		// On focus of a link in the toolbar: Change tabindex and set active class.
                        		// On keydown of a link in the toolbar: Goto start/end/prev/next or click depending what key was pressed.
                        		$rootEl.on(&quot;focus&quot;, &quot;a&quot;, function(evt) {
                        			setLinkAsActive($rootEl, $(this));
                        			
                        			// If a focus callback was defined, call it.
                        			if (settings.focus) {
                        				settings.focus(this, evt);
                        			}
                        		}).on(&quot;keydown&quot;, &quot;a&quot;, function(evt) {
                        			switch (evt.keyCode) {
                        				case 9:  // Tab
                        					// Do nothing. Let browser goto next tabstop.
                        					break;
                        					
                        				case 32:  // Spacebar
                        					evt.preventDefault();
                        					$(this).click();
                        					break;
                        					
                        				case 35:  // End key
                        					evt.preventDefault();
                        					gotoLastItem($rootEl);
                        					break;
                        				
                        				case 36:  // Home key
                        					evt.preventDefault();
                        					gotoFirstItem($rootEl);
                        					break;
                        				
                        				case 37:  // Left arrow
                        					evt.preventDefault();
                        					gotoPrevLink($rootEl);
                        					break;
                        				
                        				case 38:  // Up arrow
                        					evt.preventDefault();
                        					gotoPrevLink($rootEl);
                        					break;
                        					
                        				case 39:  // Right arrow
                        					evt.preventDefault();
                        					gotoNextLink($rootEl);
                        					break;
                        					
                        				case 40:  // Down arrow
                        					evt.preventDefault();
                        					gotoNextLink($rootEl);
                        					break;
                        			}
                        			
                        			// If a keydown callback was defined, call it.
                        			if (settings.keydown) {
                        				settings.keydown(this, evt);
                        			}
                        		});
                        	};
                        	
                        	/**
                        		Focus on the first visible link in the given container element. This just finds the first descendent link and focuses on it.
                        
                        		@method gotoFirstItem
                        		@param $linksContainer {jQuery selector} The element that contains links that you want to focus on the first one in.
                        	**/
                        	me.gotoFirstItem = gotoFirstItem;
                        	function gotoFirstItem ($linksContainer) {
                        		$linksContainer.find(&quot;a:visible:eq(0)&quot;).focus();
                        	}
                        	
                        	/**
                        		Focus on the last visible link in the given container element. This just finds the last descendent link and focuses on it, 
                        		no matter what the internal HTML structure is for container.
                        
                        		@method gotoLastItem
                        		@private
                        		@param $linksContainer {jQuery selector} The element that contains links that you want to focus on the last one in.
                        	**/
                        	function gotoLastItem ($linksContainer) {
                        		$linksContainer.find(&quot;a:visible:eq(-1)&quot;).focus();
                        	}
                        	
                        	/**
                        		Focus on the next visible link (from current focused one) in the given container element. This uses the container&#x27;s @data-activeindex 
                        		to determine what the current focused link index # is. Used by methods that do and don&#x27;t want tabindex changed. 
                        		&lt;br /&gt;If there is no next link (the last one is currently in focus), this loops back and goes to the first link per 
                        		a11y standards.
                        
                        		@method gotoNextLink
                        		@private
                        		@param $linksContainer {jQuery selector} The element that contains links that you want to focus on the next one in.
                        	**/
                        	function gotoNextLink ($linksContainer) {
                        		// Find the index of the currently focused link, then add one to get the next VISIBLE link.
                        		var currFocusedLinkIndex = $linksContainer.find(&quot;a:visible&quot;).index($linksContainer.find(&quot;a:focus&quot;)),
                        			$nextLink = $linksContainer.find(&quot;a:visible:eq(&quot; + (currFocusedLinkIndex + 1) + &quot;)&quot;);
                        
                        		if ($nextLink[0]) {
                        			$nextLink.focus();
                        		}
                        		else {
                        			gotoFirstItem($linksContainer);
                        		}
                        	}
                        
                        	/**
                        		Focus on the previous visible link (from current focused one) in the given container element. This uses the container&#x27;s 
                        		@data-activeindex to determine what the current focused link index # is. Used by methods that do and don&#x27;t want tabindex 
                        		changed. 
                        		&lt;br /&gt;If there is no previous link (the first one is currently in focus), this loops back and goes to the last link per 
                        		a11y standards.
                        		&lt;br /&gt;Will probably change to try and use has:focus.prev method.
                        
                        		@method gotoPrevLink
                        		@private
                        		@param $linksContainer {jQuery selector} The element that contains links that you want to focus on the previous one in.
                        	**/
                        	function gotoPrevLink ($linksContainer) {
                        		// Find the index of the currently focused link, then subtract one to get the previous VISIBLE link.
                        		var currFocusedLinkIndex = $linksContainer.find(&quot;a:visible&quot;).index($linksContainer.find(&quot;a:focus&quot;)),
                        			$prevLink = $linksContainer.find(&quot;a:visible:eq(&quot; + (currFocusedLinkIndex - 1) + &quot;)&quot;);
                        
                        		if ($prevLink[0]) {
                        			$prevLink.focus();
                        		}
                        		else {
                        			gotoLastItem($linksContainer);
                        		}
                        	}
                        
                        	/**
                        		Focus on the next item (LI/A)
                        		&lt;br /&gt;If there is no next item (the last one is currently in focus), this loops back and goes to the first link per 
                        		a11y standards.
                        
                        		@method gotoNextItem
                        		@private
                        		@param $currentLink {jQuery selector} The currently focused link.
                        	**/
                        	function gotoNextItem ($currentLink) {
                        		var $nextLink = $currentLink.closest(&quot;li&quot;).next(&quot;li&quot;).find(&quot;a&quot;);
                        		
                        		if ($nextLink[0]) {
                        			$nextLink.first().focus();
                        		}
                        		else {
                        			gotoFirstItem($currentLink.closest(&quot;ul&quot;));
                        		}
                        	}
                        
                        
                        	/**
                        		Focus on the next link in the tree widget (from current focused one). This is specific for a tree structure 
                        		(ULs and nexted ULs). 
                        		&lt;br /&gt;If there is no next link (the last one is currently in focus), this loops back and goes to the first link per 
                        		a11y standards.
                        
                        		@method gotoNextTreeLink
                        		@private
                        		@param $treeContainer {jQuery selector} The container that houses all the items.
                        	**/
                        	function gotoNextTreeLink ($treeContainer) {
                        		var $nextLink = $treeContainer.find(&quot;a:focus&quot;).closest(&quot;li&quot;).next(&quot;li&quot;).find(&quot;a&quot;);
                        		
                        		if ($nextLink[0]) {
                        			$nextLink.first().focus();
                        		}
                        		else {
                        			gotoFirstItem($treeContainer.find(&quot;a:focus&quot;).closest(&quot;ul&quot;));
                        		}
                        	}
                        
                        	/**
                        		Focus on the previous link in the tree widget (from current focused one). This is specific for a tree structure 
                        		(ULs and nexted ULs). 
                        		&lt;br /&gt;If there is no previous link (the first one in the current level UL is currently in focus), this loops back and 
                        		goes to the last link per a11y standards.
                        
                        		@method gotoPrevTreeLink
                        		@private
                        		@param $treeContainer {jQuery selector} The container that houses all the items.
                        	**/
                        	function gotoPrevTreeLink ($currentLink) {
                        		var $prevLink = $currentLink.parent(&quot;li&quot;).prev(&quot;li&quot;).find(&quot;a&quot;);
                        		
                        		if ($prevLink[0]) {
                        			$prevLink.first().focus();
                        		}
                        		else {
                        			gotoLastItem($currentLink.closest(&quot;ul&quot;));
                        		}
                        	}
                        
                        	/**
                        		Focus on the parent link of the currently focused link in the tree widget. This is specific for a tree structure 
                        		(ULs and nexted ULs). 
                        		&lt;br /&gt;If there is no parent tree, goto the previous link in the current link level per a11y standards.
                        
                        		@method gotoParentTreeLink
                        		@private
                        		@param $currentLink {jQuery selector} The currently focused link.
                        	**/
                        	function gotoParentTreeLink ($currentLink) {
                        		var $parentLi = $currentLink.closest(&quot;ul&quot;).parent(&quot;li&quot;);
                        
                        		if ($parentLi[0]) {
                        			$parentLi.children(&quot;a&quot;).first().focus();
                        		}
                        		else {
                        			gotoPrevTreeLink($currentLink);
                        		}
                        	}
                        
                        	/**
                        		Focus on the first link in the next level down from the currently focused link level in the tree widget. This is 
                        		specific for a tree structure (ULs and nexted ULs). 
                        		&lt;br /&gt;If there is no child level/links tree, goto the next link in the current link level per a11y standards.
                        
                        		@method gotoChildTreeLink
                        		@private
                        		@param $treeContainer {jQuery selector} The container that houses all the items.
                        	**/
                        	function gotoChildTreeLink ($treeContainer) {
                        		var $childUl = $treeContainer.find(&quot;a:focus&quot;).closest(&quot;li&quot;).children(&quot;ul&quot;);
                        		
                        		if ($childUl[0]) {
                        			gotoFirstItem($childUl);
                        		}
                        		else {
                        			gotoNextTreeLink($treeContainer);
                        		}
                        	}
                        
                        	/**
                        		Removes the tabstop from every link in the container and places it on the link.
                        
                        		@method setLinkAsActive
                        		@private
                        		@param $linksContainer {jQuery selector} The container that houses all the items.
                        		@param $linkEl {jQuery selector} The link you want to make active and put the tabstop (tabindex=0) on. Removes it from other items in the container.
                        	**/
                        	function setLinkAsActive ($linksContainer, $linkEl) {
                        		// Return is the element doesn&#x27;t exist b/c we need an element to do stuff.
                        		if (!$linkEl[0]) {
                        			return;
                        		}
                        
                        		// Remove tab stop from all other links and make this one have it.
                        		$linksContainer.find(&quot;a&quot;).attr(&quot;tabindex&quot;, -1);
                        		$linkEl.attr(&quot;tabindex&quot;, 0);	
                        	}
                        
                        	/**
                        		Automatically and dynamically sets the label on the &amp;lt;main&gt; element using text from the selected tab, subtab, and H1 on DOM ready.
                        		
                        		@method addMainElementLabel
                        		@private
                        	**/
                        	function addMainElementLabel () {
                        		var h1 = $(document.getElementById(&quot;ibm-leadspace-head&quot;)).find(&quot;h1&quot;).text() || &quot;&quot;,
                        			selectedTab = $(document.getElementById(&quot;ibm-primary-tabs&quot;)).find(&quot;a[aria-selected=&#x27;true&#x27;]&quot;).text() || &quot;&quot;,
                        			selectedSubtab = $(document.getElementById(&quot;ibm-secondary-tabs&quot;)).find(&quot;a[aria-selected=&#x27;true&#x27;]&quot;).text() || &quot;&quot;,
                        			selectedLeftNav = $(document.getElementById(&quot;ibm-primary-links&quot;)).children(&quot;li&quot;).children(&quot;a[aria-selected=&#x27;true&#x27;]&quot;).text() || &quot;&quot;,
                        			selectedLeftSubNav = $(document.getElementById(&quot;ibm-primary-links&quot;)).children(&quot;li&quot;).find(&quot;a[aria-selected=&#x27;true&#x27;]&quot;).text() || &quot;&quot;;
                        			
                        		$(&quot;main&quot;).removeAttr(&quot;aria-labelledby&quot;).attr(&quot;aria-label&quot;, $.trim(selectedLeftSubNav + &quot; &quot; + selectedSubtab + &quot; &quot; + selectedLeftNav + &quot; &quot; + selectedTab + &quot; &quot; + h1));
                        	}
                        	
                        	/*******************************************************************************/
                        	// For STATIC ELEMENTS ONLY, add a11y stuff we need to add.
                        	// If it&#x27;s a dynamic element/module/widget, then that element&#x27;s JS is where any and all a11y is added. Not here.
                        	// Use setTimeout to push these to the back of the callstack/execution queue so it doesn&#x27;t block 
                        	//   any other more important onload UI rendering code we set elsewhere.
                        	$(function () {
                        		addMainElementLabel();
                        		
                        		// Setup TABS as navigation accessibility widget unless it&#x27;s a widget, in which case the widget JS does this as needed.
                        		if (document.getElementById(&quot;ibm-primary-tabs&quot;) &amp;&amp; !$(&quot;#ibm-primary-tabs[data-widget]&quot;)[0]) {
                        			setTimeout(function(){
                        				IBM.common.util.a11y.makeTabsAccessible({
                        					el: document.getElementById(&quot;ibm-primary-tabs&quot;)
                        				});
                        			}, 100);
                        		}
                        		
                        		// Setup SUBTABS as navigation accessibility widget unless it&#x27;s a widget, in which case the widget JS does this as needed.
                        		if (document.getElementById(&quot;ibm-secondary-tabs&quot;) &amp;&amp; !$(&quot;#ibm-secondary-tabs[data-widget]&quot;)[0]) {
                        			setTimeout(function(){
                        				IBM.common.util.a11y.makeTabsAccessible({
                        					el: document.getElementById(&quot;ibm-secondary-tabs&quot;)
                        				});
                        			}, 100);
                        		}
                        	});
                        
                        })(jQuery, IBMCore);
                        
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
