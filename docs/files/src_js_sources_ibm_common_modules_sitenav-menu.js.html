<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="robots" content="index,follow">
    <title>src/js/sources/ibm/common/modules/sitenav-menu.js - IBM v18 (Northstar) common Javascript documentation</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" href="http://www.ibm.com/favicon.ico">
    <script>
        digitalData = {
            page: {
                pageInfo: {
                    effectiveDate: '2017-02-25',
                    expiryDate: '2020-02-25',
                    language: 'en-US',
                    publishDate: '2017-02-25',
                    publisher: 'IBM Corporation',
                    ibm: {
                        contentDelivery: 'yuidoc via grunt',
                        contentProducer: 'Michael Santelia',
                        country: 'US',
                        owner: 'Michael Santelia'
                    }
                }
            }
        };
    </script>

    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>

    <script>

		var lastUpdate = new Date(document.lastModified),
			updatedMonth = lastUpdate.getMonth(),
			updatedDate = lastUpdate.getDate(),
			updatedYear = lastUpdate.getFullYear(),
			today = new Date(),
			todayMonth = today.getMonth(),
			todayDate = today.getDate(),
			todayYear = today.getFullYear(),
			monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"],
			lastUpdatedText = "",
			daysAgo = Math.floor((today - lastUpdate) / (1000*60*60*24));

		updatedMonthName = monthNames[updatedMonth];

		switch (daysAgo) {

			case 1: 
				lastUpdatedText = "Updated yesterday";
				break;
				
			case 0: 
				lastUpdatedText = "Updated today";
				break;
				
			default: 
				lastUpdatedText = "Updated " + daysAgo + " days ago";
				break;
		}

		if (daysAgo > 4) {
			lastUpdatedText = "Updated: " + updatedMonthName + " " + updatedDate + ", " + updatedYear;
		}

    </script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-1-2">
            <div style="background: url(http://1.www.s81c.com/i/v17/t/ibm-logo.png) no-repeat scroll 0px 0px transparent; width: 105px; height: 45px; margin: 0.85em 0px;text-indent:-9999px;">IBM v18 (Northstar) common Javascript documentation</div>
        </div>
        <div class="yui3-u-1-2 version">
            <em>Javascript documentation for: IBM v18 (Northstar)<br />
            	<span style="font-size: 0.6em; position: absolute; right: 35px;"><script>document.writeln(lastUpdatedText)</script></span></em>
        </div>
    </div>
    
    <p><a href="../assets../../v18-js-source-documentation.zip" style="margin-left: 10px; padding-left: 15px; background: url(http://1.www.s81c.com/i/v17/icons/ibm_sprite_transactional_blue_ON.png) no-repeat 0 -202px;">Download a copy of this documentation (ZIP).</a></p>
    
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4" style="float: left;width:25%;">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/IBMCore.common.module.backtotop.html">IBMCore.common.module.backtotop</a></li>
                                <li><a href="../classes/IBMCore.common.module.canadanotice.html">IBMCore.common.module.canadanotice</a></li>
                                <li><a href="../classes/IBMCore.common.module.contactmodule.html">IBMCore.common.module.contactmodule</a></li>
                                <li><a href="../classes/IBMCore.common.module.footer.html">IBMCore.common.module.footer</a></li>
                                <li><a href="../classes/IBMCore.common.module.footermenu.html">IBMCore.common.module.footermenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.leftnav.html">IBMCore.common.module.leftnav</a></li>
                                <li><a href="../classes/IBMCore.common.module.liveperson.html">IBMCore.common.module.liveperson</a></li>
                                <li><a href="../classes/IBMCore.common.module.localeselector.html">IBMCore.common.module.localeselector</a></li>
                                <li><a href="../classes/IBMCore.common.module.localpagenotification.html">IBMCore.common.module.localpagenotification</a></li>
                                <li><a href="../classes/IBMCore.common.module.masthead.html">IBMCore.common.module.masthead</a></li>
                                <li><a href="../classes/IBMCore.common.module.masthead.sticky.html">IBMCore.common.module.masthead.sticky</a></li>
                                <li><a href="../classes/IBMCore.common.module.mastheadbanner.html">IBMCore.common.module.mastheadbanner</a></li>
                                <li><a href="../classes/IBMCore.common.module.mastheadsearch.html">IBMCore.common.module.mastheadsearch</a></li>
                                <li><a href="../classes/IBMCore.common.module.merchandising.html">IBMCore.common.module.merchandising</a></li>
                                <li><a href="../classes/IBMCore.common.module.mobilemenu.html">IBMCore.common.module.mobilemenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.sharethiscontent.html">IBMCore.common.module.sharethiscontent</a></li>
                                <li><a href="../classes/IBMCore.common.module.sharethispage.html">IBMCore.common.module.sharethispage</a></li>
                                <li><a href="../classes/IBMCore.common.module.sitenavmenu.html">IBMCore.common.module.sitenavmenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.urx.html">IBMCore.common.module.urx</a></li>
                                <li><a href="../classes/IBMCore.common.translations.html">IBMCore.common.translations</a></li>
                                <li><a href="../classes/IBMCore.common.util.a11y.html">IBMCore.common.util.a11y</a></li>
                                <li><a href="../classes/IBMCore.common.util.addCssRule.html">IBMCore.common.util.addCssRule</a></li>
                                <li><a href="../classes/IBMCore.common.util.anchorlinkAdjustment.html">IBMCore.common.util.anchorlinkAdjustment</a></li>
                                <li><a href="../classes/IBMCore.common.util.bitly.html">IBMCore.common.util.bitly</a></li>
                                <li><a href="../classes/IBMCore.common.util.color.html">IBMCore.common.util.color</a></li>
                                <li><a href="../classes/IBMCore.common.util.config.html">IBMCore.common.util.config</a></li>
                                <li><a href="../classes/IBMCore.common.util.convertSecondsToHMS.html">IBMCore.common.util.convertSecondsToHMS</a></li>
                                <li><a href="../classes/IBMCore.common.util.cookie.html">IBMCore.common.util.cookie</a></li>
                                <li><a href="../classes/IBMCore.common.util.coreservices.html">IBMCore.common.util.coreservices</a></li>
                                <li><a href="../classes/IBMCore.common.util.data.html">IBMCore.common.util.data</a></li>
                                <li><a href="../classes/IBMCore.common.util.debug.html">IBMCore.common.util.debug</a></li>
                                <li><a href="../classes/IBMCore.common.util.eventCoordinator.html">IBMCore.common.util.eventCoordinator</a></li>
                                <li><a href="../classes/IBMCore.common.util.freezeScrollbars.html">IBMCore.common.util.freezeScrollbars</a></li>
                                <li><a href="../classes/IBMCore.common.util.gatekeeper.html">IBMCore.common.util.gatekeeper</a></li>
                                <li><a href="../classes/IBMCore.common.util.generateId.html">IBMCore.common.util.generateId</a></li>
                                <li><a href="../classes/IBMCore.common.util.getCurrentGridSize.html">IBMCore.common.util.getCurrentGridSize</a></li>
                                <li><a href="../classes/IBMCore.common.util.getDataAttributes.html">IBMCore.common.util.getDataAttributes</a></li>
                                <li><a href="../classes/IBMCore.common.util.getScrollbarWidth.html">IBMCore.common.util.getScrollbarWidth</a></li>
                                <li><a href="../classes/IBMCore.common.util.has12grid.html">IBMCore.common.util.has12grid</a></li>
                                <li><a href="../classes/IBMCore.common.util.hasScrollbars.html">IBMCore.common.util.hasScrollbars</a></li>
                                <li><a href="../classes/IBMCore.common.util.meta.html">IBMCore.common.util.meta</a></li>
                                <li><a href="../classes/IBMCore.common.util.perf.html">IBMCore.common.util.perf</a></li>
                                <li><a href="../classes/IBMCore.common.util.queue.html">IBMCore.common.util.queue</a></li>
                                <li><a href="../classes/IBMCore.common.util.scrolledintoview.html">IBMCore.common.util.scrolledintoview</a></li>
                                <li><a href="../classes/IBMCore.common.util.scrolltracker.html">IBMCore.common.util.scrolltracker</a></li>
                                <li><a href="../classes/IBMCore.common.util.setIpcCookie.html">IBMCore.common.util.setIpcCookie</a></li>
                                <li><a href="../classes/IBMCore.common.util.statshelper.html">IBMCore.common.util.statshelper</a></li>
                                <li><a href="../classes/IBMCore.common.util.storage.html">IBMCore.common.util.storage</a></li>
                                <li><a href="../classes/IBMCore.common.util.string.htmlspecialchars.html">IBMCore.common.util.string.htmlspecialchars</a></li>
                                <li><a href="../classes/IBMCore.common.util.url.html">IBMCore.common.util.url</a></li>
                                <li><a href="../classes/IBMCore.common.util.user.html">IBMCore.common.util.user</a></li>
                                <li><a href="../classes/IBMCore.common.widget.carousel.html">IBMCore.common.widget.carousel</a></li>
                                <li><a href="../classes/IBMCore.common.widget.ccfintercept.html">IBMCore.common.widget.ccfintercept</a></li>
                                <li><a href="../classes/IBMCore.common.widget.datatable.html">IBMCore.common.widget.datatable</a></li>
                                <li><a href="../classes/IBMCore.common.widget.datepicker.html">IBMCore.common.widget.datepicker</a></li>
                                <li><a href="../classes/IBMCore.common.widget.dyntabs.html">IBMCore.common.widget.dyntabs</a></li>
                                <li><a href="../classes/IBMCore.common.widget.fileinput.html">IBMCore.common.widget.fileinput</a></li>
                                <li><a href="../classes/IBMCore.common.widget.forms.html">IBMCore.common.widget.forms</a></li>
                                <li><a href="../classes/IBMCore.common.widget.formvalidator.html">IBMCore.common.widget.formvalidator</a></li>
                                <li><a href="../classes/IBMCore.common.widget.leavingibm.html">IBMCore.common.widget.leavingibm</a></li>
                                <li><a href="../classes/IBMCore.common.widget.manager.html">IBMCore.common.widget.manager</a></li>
                                <li><a href="../classes/IBMCore.common.widget.masonry.html">IBMCore.common.widget.masonry</a></li>
                                <li><a href="../classes/IBMCore.common.widget.overlay.html">IBMCore.common.widget.overlay</a></li>
                                <li><a href="../classes/IBMCore.common.widget.parallaxscroll.html">IBMCore.common.widget.parallaxscroll</a></li>
                                <li><a href="../classes/IBMCore.common.widget.rssdisplay.html">IBMCore.common.widget.rssdisplay</a></li>
                                <li><a href="../classes/IBMCore.common.widget.scrollable.html">IBMCore.common.widget.scrollable</a></li>
                                <li><a href="../classes/IBMCore.common.widget.selectlist.html">IBMCore.common.widget.selectlist</a></li>
                                <li><a href="../classes/IBMCore.common.widget.selectlistnav.html">IBMCore.common.widget.selectlistnav</a></li>
                                <li><a href="../classes/IBMCore.common.widget.setsameheight.html">IBMCore.common.widget.setsameheight</a></li>
                                <li><a href="../classes/IBMCore.common.widget.showhide.html">IBMCore.common.widget.showhide</a></li>
                                <li><a href="../classes/IBMCore.common.widget.stepindicator.html">IBMCore.common.widget.stepindicator</a></li>
                                <li><a href="../classes/IBMCore.common.widget.stickytabs.html">IBMCore.common.widget.stickytabs</a></li>
                                <li><a href="../classes/IBMCore.common.widget.syntaxhighlighter.html">IBMCore.common.widget.syntaxhighlighter</a></li>
                                <li><a href="../classes/IBMCore.common.widget.tablerowselector.html">IBMCore.common.widget.tablerowselector</a></li>
                                <li><a href="../classes/IBMCore.common.widget.tooltip.html">IBMCore.common.widget.tooltip</a></li>
                                <li><a href="../classes/IBMCore.common.widget.twisty.html">IBMCore.common.widget.twisty</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videolooper.html">IBMCore.common.widget.videolooper</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.html">IBMCore.common.widget.videoplayer</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.kaltura.html">IBMCore.common.widget.videoplayer.kaltura</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.ustream.html">IBMCore.common.widget.videoplayer.ustream</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.youtube.html">IBMCore.common.widget.videoplayer.youtube</a></li>
                                <li><a href="../classes/IBMCore.namespace.html">IBMCore.namespace</a></li>
                                <li><a href="../classes/IBMCore.www.module.dynamiccontactmodule.html">IBMCore.www.module.dynamiccontactmodule</a></li>
                                <li><a href="../classes/IBMCore.www.module.truste.html">IBMCore.www.module.truste</a></li>
                                <li><a href="../classes/jQuery.browser.html">jQuery.browser</a></li>
                                <li><a href="../classes/jQuery.fn.dataTable.html">jQuery.fn.dataTable</a></li>
                                <li><a href="../classes/jQuery.fn.slick.html">jQuery.fn.slick</a></li>
                                <li><a href="../classes/jQuery.layout.html">jQuery.layout</a></li>
                                <li><a href="../classes/jQuery.os.html">jQuery.os</a></li>
                                <li><a href="../classes/jQuery:focusable.html">jQuery:focusable</a></li>
                                <li><a href="../classes/Masonry.html">Masonry</a></li>
                                <li><a href="../classes/Modernizr.html">Modernizr</a></li>
                                <li><a href="../classes/Mustache.html">Mustache</a></li>
                                <li><a href="../classes/NanoScroll.html">NanoScroll</a></li>
                                <li><a href="../classes/Other IBM - Canada notice loader.html">Other IBM - Canada notice loader</a></li>
                                <li><a href="../classes/Other IBM - common init.html">Other IBM - common init</a></li>
                                <li><a href="../classes/Other IBM - common v18 page tracker.html">Other IBM - common v18 page tracker</a></li>
                                <li><a href="../classes/Other IBM - errorchecking.html">Other IBM - errorchecking</a></li>
                                <li><a href="../classes/Other IBM - footer feedback link.html">Other IBM - footer feedback link</a></li>
                                <li><a href="../classes/Other IBM - grid change.html">Other IBM - grid change</a></li>
                                <li><a href="../classes/Other IBM - jstimer-end.html">Other IBM - jstimer-end</a></li>
                                <li><a href="../classes/Other IBM - jstimer-start.html">Other IBM - jstimer-start</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/IBMCore.html">IBMCore</a></li>
                                <li><a href="../modules/jQuery.browser.html">jQuery.browser</a></li>
                                <li><a href="../modules/jQuery.dataTable.html">jQuery.dataTable</a></li>
                                <li><a href="../modules/jQuery.slick.html">jQuery.slick</a></li>
                                <li><a href="../modules/Masonry.html">Masonry</a></li>
                                <li><a href="../modules/Modernizr.html">Modernizr</a></li>
                                <li><a href="../modules/Mustache.html">Mustache</a></li>
                                <li><a href="../modules/Nanoscroller.html">Nanoscroller</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4"style="float: left;width:75%;">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected" checked>
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private" checked>
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated" checked>
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/js/sources/ibm/common/modules/sitenav-menu.js</h1>
                        
                        <div class="file">
                            <pre class="code prettyprint linenums">
                        /**
                        
                        	Site navigation menu
                        	&lt;br /&gt;
                        	&lt;br /&gt;This is the site navigation menu bar that&#x27;s above the leadspace. 
                        	 It&#x27;s got the site name on the left and links and drop-down menus on the right.
                        	&lt;br /&gt;By default the menunav is sticky. Stickyness can be disabled by adding the 
                        	 attribute to the div:  data-sticky=&quot;false&quot;
                        	&lt;br /&gt;
                        
                        	@class IBMCore.common.module.sitenavmenu
                        
                        **/
                        
                        (function($, IBM) {
                        	/**
                        		Publishes this event after the nav menu has been setup.
                        
                        		@event ready
                        	**/
                        	var me = IBM.namespace(IBM, &quot;common.module.sitenavmenu&quot;),
                        		meParent = IBM.namespace(IBM, &quot;common.module.sitenavmenu.parentnav&quot;),
                        		myEvents = IBM.common.util.eventCoordinator(me, &quot;Sitenavmenu&quot;, [
                        			&quot;ready&quot;
                        		]),
                        		myParentEvents = IBM.common.util.eventCoordinator(meParent, &quot;Sitenavmenu&quot;, [
                        			&quot;ready&quot;
                        		]),
                        		didScroll = false,
                        		menuTop,
                        		mouseEventWait = 250,
                        		sitenavMinWidth,
                        		$elements = {
                        			sitenavMenu: {},
                        			sitenavMenuList: {},
                        			itemWithSubmenu: {}
                        		},
                        		$parentElements = {
                        			sitenavMenu: {},
                        			sitenavMenuList: {},
                        			itemWithSubmenu: {}
                        		};
                        
                        	/**
                        		Only Called from DOM ready IF A MENU NAV ELEMENT EXISTS.
                        		&lt;br&gt;If you are injecting it dynamically, call this after you inject it.
                        		&lt;br&gt;Called via setTimeout since it&#x27;s non-essential and just sets up minimal interaction and adjustments.
                        		&lt;br /&gt;This sets up the menunav for stickyness, adjusts drop-down menus for right-alignment, and dynamically show/hides the links based on the browser width and if they can all fit or not.
                        
                        		@method init
                        	**/
                        	me.init = function() {
                        		$(document.body).addClass(&quot;ibm-sitenav-menu&quot;);
                        		
                        		// Cache selectors.
                        		$elements.sitenavMenu = $(document.getElementsByClassName(&quot;ibm-sitenav-menu-container&quot;)[0]);
                        		$elements.sitenavMenuList = $elements.sitenavMenu.find(&quot;.ibm-sitenav-menu-list&quot;);
                        		$elements.itemWithSubmenu = $elements.sitenavMenuList.find(&quot; &gt; ul &gt; li.ibm-haschildlist&quot;);
                        		
                        		menuTop = $elements.sitenavMenu.offset().top;
                        
                        		// This is a little pointless becuase our masthead doesn&#x27;t change heights, but in case it does 
                        		//  this ensures this will always be correct and doesn&#x27;t have to match a CSS value.
                        		IBM.common.module.masthead.subscribe(&quot;ready&quot;, &quot;menunav&quot;, function () {
                        			menuTop = $elements.sitenavMenu.offset().top;
                        		});
                        		
                        		// This is for legacy/original HTML that had spans. Some people have span instead of new proper button element.
                        		convertSpansToButtons();
                        		
                        		// Check if the drop-down menu will be offscreen and right align it if so.
                        		$elements.itemWithSubmenu.each(function(){
                        			var $thisLi = $(this);
                        			if (isOffscreen($thisLi)) {
                        				$thisLi.find(&quot;ul&quot;).addClass(&quot;ibm-align-right&quot;);
                        			}
                        		});
                        
                        
                        		//// BINDINGS:
                        
                        		// Click on a main item (that has a submenu) button. 
                        		// Essentially toggles the submenu (primary use case = touch screens, secondary = mouse click).
                        		$elements.itemWithSubmenu.find(&quot;&gt; :focusable&quot;).click(function() {
                        			var $parentLi = $(this).parent();
                        
                        			if (!$parentLi.hasClass(&quot;ibm-active&quot;)) {
                        				showSubmenu($elements, $parentLi);
                        			}
                        			else {
                        				hideSubmenu($parentLi);
                        			}
                        		});
                        
                        		// If they have a mouse, open/close menus on hover actions.
                        		$elements.sitenavMenuList.hoverIntent(function () {
                        				var $li = $(this);
                        				showSubmenu($elements, $li);
                        			}, function () {
                        				// do nothing on mouse out. Covered by larger scoped element mouseout binding below.
                        			}, &quot; &gt;ul &gt;li&quot;);
                        
                        		// If they mouse out of the entire menu section, wait 300ms and make sure they are leaving then close the menu.
                        		$elements.sitenavMenuList.hoverIntent({
                        			over: function (){},
                        			out: function () {
                        					hideSubmenu($elements.sitenavMenuList.find(&quot;&gt; ul &gt; li.ibm-active&quot;));
                        				},
                        			timeout: 300
                        		});
                        
                        		//// Stickyness.
                        
                        		// If they didn&#x27;t disable the stickyness (default), set it up.
                        		if ($elements.sitenavMenu.data(&quot;sticky&quot;) !== false) {
                        			$(window).scroll(function() {
                        				didScroll = true;
                        			});
                        
                        			setInterval(function() {
                        				if (didScroll) {
                        					didScroll = false;
                        					toggleStickyMenu();
                        				}
                        			}, 10);
                        
                        			// Run onload.
                        			toggleStickyMenu();
                        		}
                        
                        		//// Hiding when it doesn&#x27;t fit across the screen.
                        
                        		// Set the minimum viewport width we need in order to show all the links and injects dynamic media query style.
                        		// Safari had weird render issue introduced in 10.1.2, have to slightly delay the calculation for it.
                        		if (!$.browser.safari) {
                        			setSitenavMinWidth();
                        			$elements.sitenavMenu.attr(&quot;data-widgetprocessed&quot;, true);
                        		}
                        		else {
                        			setTimeout(function () {
                        				IBM.common.module.sitenavmenu.setSitenavMinWidth();
                        				$elements.sitenavMenu.attr(&quot;data-widgetprocessed&quot;, true);
                        			}, 150);
                        		}
                        
                        		// Setup a11y.
                        		IBM.common.util.a11y.makeMenuAccessible({
                        			el: $elements.sitenavMenuList
                        		});
                        
                        		myEvents.publish(&quot;ready&quot;);
                        	};
                        
                        	/**
                        		Only Called from DOM ready IF A PARENT SITE MENU NAV ELEMENT EXISTS.
                        		&lt;br&gt;If you are injecting it dynamically, call this after you inject it.
                        		&lt;br&gt;Called via setTimeout since it&#x27;s non-essential and just sets up minimal interaction and adjustments.
                        		&lt;br /&gt;This sets up the PARENT site drop-down menu. Instead of just a link, you can have a basic menu.
                        
                        		@method initParent
                        	**/
                        	me.initParent = function () {
                        		// Cache selectors.
                        		$parentElements.sitenavMenu = $(document.getElementsByClassName(&quot;ibm-parent-site-menu&quot;)[0]);
                        		$parentElements.sitenavMenuList = $parentElements.sitenavMenu.find(&quot;.ibm-sitenav-menu-list&quot;);
                        		$parentElements.itemWithSubmenu = $parentElements.sitenavMenuList.find(&quot; &gt; ul &gt; li.ibm-haschildlist&quot;);
                        		
                        		// Tap/keyboard press on a main item (that has a submenu) button. 
                        		// Essentially toggles the submenu (primary use case = touch screens, secondary = mouse click).
                        		$parentElements.itemWithSubmenu.find(&quot;&gt; :focusable&quot;).click(function() {
                        			var $parentLi = $(this).parent();
                        
                        			if (!$parentLi.hasClass(&quot;ibm-active&quot;)) {
                        				showSubmenu($parentElements, $parentLi);
                        			}
                        			else {
                        				hideSubmenu($parentElements, $parentLi);
                        			}
                        		});
                        
                        		// If they have a mouse, open/close menus on hover actions.
                        		$parentElements.sitenavMenuList.hoverIntent(function () {
                        				var $li = $(this);
                        				showSubmenu($parentElements, $li);
                        			}, function () {
                        				// do nothing on mouse out. Covered by larger scoped element mouseout binding below.
                        			}, &quot; &gt;ul &gt;li&quot;);
                        
                        		// If they mouse out of the entire menu section, wait 300ms and make sure they are leaving then close the menu.
                        		$parentElements.sitenavMenuList.hoverIntent({
                        			over: function (){},
                        			out: function () {
                        					hideSubmenu($parentElements.sitenavMenuList.find(&quot;&gt; ul &gt; li.ibm-active&quot;));
                        				},
                        			timeout: 300
                        		});
                        
                        		// Setup a11y.
                        		IBM.common.util.a11y.makeMenuAccessible({
                        			el: $parentElements.sitenavMenuList
                        		});
                        
                        		$parentElements.sitenavMenu.attr(&quot;data-widgetprocessed&quot;, true);
                        		myParentEvents.publish(&quot;ready&quot;);
                        	};
                        
                        	/**
                        		Converts legacy HTML &amp;lt;span&gt; main items with submenus into the proper &amp;lt;button&gt; element it&#x27;s supposed to be.
                        
                        		@method convertSpansToButtons
                        		@private
                        	**/
                        	function convertSpansToButtons () {
                        		$.each($elements.itemWithSubmenu.children(&quot;span&quot;), function () {
                        			var attrs = &quot;&quot;,
                        				$spanItem = $(this);
                        			
                        			$.each(this.attributes, function() {
                        				attrs += &#x27; &#x27; + this.name + &#x27;=&quot;&#x27; + this.value + &#x27;&quot;&#x27;;
                        			});
                        			
                        			$spanItem.replaceWith(&quot;&lt;button&quot; + attrs + &quot;&gt;&quot; + $spanItem.html() + &quot;&lt;/button&gt;&quot;);
                        		});
                        	}
                        
                        	/**
                        		Decides whether to make the menu nav bar sticky or not. Based on scroll position.
                        		&lt;br /&gt;Called onload for initial display type, and then on scroll.
                        
                        		@method toggleStickyMenu
                        		@private
                        	**/
                        	function toggleStickyMenu () {
                        		var scrollTop = $(window).scrollTop();
                        
                        		if (scrollTop &gt; menuTop) {
                        			$(document.body).addClass(&quot;ibm-sitenav-menu-sticky&quot;);
                        		}
                        		else {
                        			$(document.body).removeClass(&quot;ibm-sitenav-menu-sticky&quot;);
                        		}
                        	}
                        
                        	/**
                        		Hides all submenus that are open and shows submenu for main item passed to it.
                        		&lt;br /&gt;Called on click and hover of main item that has a submenu.
                        
                        		@method showSubmenu
                        		@private
                        		@param $li {Element selector} The main item &amp;lt;li&gt; that we want to open submenu for.
                        	**/
                        	function showSubmenu ($menuSet, $li) {
                        		hideSubmenu($menuSet.sitenavMenuList.find(&quot;&gt; ul &gt; li.ibm-active&quot;));
                        		
                        		if ($li.children(&quot;ul&quot;)[0]) {
                        			if ($li.children(&quot;ul&quot;).hasClass(&quot;ibm-align-right&quot;)) {
                        				$li.children(&quot;ul&quot;).removeClass(&quot;ibm-align-right&quot;);
                        			}
                        
                        			if (isOffscreen($li)) {
                        				$li.children(&quot;ul&quot;).addClass(&quot;ibm-align-right&quot;);
                        			}
                        			
                        			$li.addClass(&quot;ibm-active&quot;);
                        		}
                        
                        	}
                        
                        	/**
                        		Hides the submenu for the main item passed to it.
                        		
                        		@method hideSubmenu
                        		@private
                        		@param $li {Element selector} The main item &amp;lt;li&gt; that we want to hide the submenu for.
                        	**/
                        	function hideSubmenu ($li) {
                        		$li.removeClass(&quot;ibm-active&quot;);
                        	}
                        
                        	/**
                        		Submenus are left-aligned by default. This checks if the submenu will extend offscreen (right) and return true if so.
                        		
                        		@method isOffscreen
                        		@private
                        		@param $li {Element selector} The main item &amp;lt;li&gt; that we want to check the submenu for positioning.
                        		@return {Boolean} True if it will be offscreen, else false.
                        	**/
                        	function isOffscreen ($li) {
                        		var $submenu = $li.addClass(&quot;ibm-active&quot;).children(&quot;ul&quot;).addClass(&quot;getWidth&quot;),
                            		submenuWidth = $submenu[0].getBoundingClientRect().width,
                        			submenuXpos = $submenu.addClass(&quot;abs&quot;).offset().left;
                        
                            	$li.removeClass(&quot;ibm-active&quot;).children(&quot;ul&quot;).removeClass(&quot;getWidth&quot;);
                            	$submenu.removeClass(&quot;abs&quot;)[0].style.width = submenuWidth + &quot;px&quot;;
                        
                        		// Add 3px buffer in case it&#x27;s a close call.
                        		return submenuXpos + submenuWidth + 3 &gt; $(window).width();
                        	}
                        
                        	/**
                        		Sets the width needed to fit the menu nav bar site name + the main links across.
                        		&lt;br /&gt;If you are dynamically adding/removing items, you call this afterwards to (re)set the proper width needed 
                        		on your new set of links so they can be shown/hidden correctly.
                        		
                        		@method setSitenavMinWidth
                        	**/
                        	me.setSitenavMinWidth = setSitenavMinWidth;
                        	function setSitenavMinWidth () {
                        		var nameEl = document.getElementsByClassName(&quot;ibm-sitenav-menu-name&quot;)[0],
                        			mainLinksEl = $elements.sitenavMenuList[0],
                        			$rightLinksEl = $(&quot;.ibm-sitenav-menu-item-right&quot;),
                        			mainLinksMin = 0,
                        			rightLinksMin = 0;
                        
                        		$elements.sitenavMenu.addClass(&quot;getWidth&quot;);
                        
                        		mainLinksMin = nameEl.getBoundingClientRect().width;
                        		if (mainLinksEl) {
                        			mainLinksMin += mainLinksEl.getBoundingClientRect().width;
                        		}
                        		
                        		rightLinksMin = nameEl.getBoundingClientRect().width;
                        		if ($rightLinksEl[0]) {
                        			$rightLinksEl.each(function () {
                        				rightLinksMin += (this.getBoundingClientRect().width);
                        			});
                        		}
                        		
                        		$elements.sitenavMenu.removeClass(&quot;getWidth&quot;);
                        
                        		if (!document.getElementById(&quot;ibm-sitenav-menu-hidelinks&quot;)) {
                        			$(&#x27;head&#x27;).append(&#x27;&lt;style id=&quot;ibm-sitenav-menu-hidelinks&quot;&gt;&lt;/style&gt;&#x27;);
                        		}
                        
                        		// Inject the dynamic media query style to hide masthead links under XX screen width.
                        		/** stringify this for editing:
                        			@media screen and (max-width: &#x27; + (mainLinksMin+100) + &#x27;px) { 
                        				.ibm-sitenav-menu-container .ibm-sitenav-menu-list &gt; ul &gt; li {
                        					display:none
                        				}
                        				.ibm-sitenav-menu-container .ibm-sitenav-menu-list &gt; ul &gt; .ibm-sitenav-menu-item-right {
                        					display:block
                        				}
                        			}
                        			@media screen and (min-width: &#x27; + (mainLinksMin+101) + &#x27;px) { 
                        				.ibm-mobilemenu-sitenavmenu &gt; ul &gt; li {
                        					display:none
                        				}
                        			} 
                        			@media screen and (max-width: &#x27; + (rightLinksMin+100) + &#x27;px) { 
                        				.ibm-sitenav-menu-list &gt; ul &gt; .ibm-sitenav-menu-item-right { 
                        					display:none
                        				}
                        			}
                        			@media screen and (min-width: &#x27; + (rightLinksMin+101) + &#x27;px) { 
                        				.ibm-mobilemenu-sitenavmenu &gt; ul &gt; .ibm-sitenav-menu-item-right { 
                        					display:none
                        				}
                        			}
                        		**/
                        
                        		document.getElementById(&quot;ibm-sitenav-menu-hidelinks&quot;).innerHTML = &#x27;@media screen and (max-width: &#x27; + (mainLinksMin+100) + &#x27;px) {.ibm-sitenav-menu-container .ibm-sitenav-menu-list &gt; ul &gt; li {display:none}}@media screen and (min-width: &#x27; + (mainLinksMin+101) + &#x27;px) {.ibm-mobilemenu-sitenavmenu &gt; ul &gt; li {display:none}}&#x27;;
                        	}
                        
                        	// Runs onready but put to back of the queue b/c it&#x27;s not needed asap.
                        	$(function () {
                        		if (document.getElementsByClassName(&quot;ibm-sitenav-menu-container&quot;)[0]) {
                        			// Dynamically add a CSS block to shift the margins when we hide scrollbars (makes page wider).
                        			var scrollbarWidth = IBM.common.util.getScrollbarWidth();
                        			IBM.common.util.addCssRule(&quot;.ibm-no-scroll .ibm-sitenav-menu-container&quot;, {
                        				&quot;margin-left&quot;: scrollbarWidth + &quot;px&quot;,
                        				&quot;margin-right&quot;: scrollbarWidth + &quot;px&quot;
                        			});
                        
                        			setTimeout(me.init, 50);
                        		}
                        
                        		// For new parent menu option. Instead of just a link, it can now be a menu.
                        		if (document.getElementsByClassName(&quot;ibm-parent-site-menu&quot;)[0]) {
                        			setTimeout(me.initParent, 50);
                        		}
                        	});
                        
                        
                        	// Bug fix for non-firing events that needs to be fixed.
                        	me.subscribe(&quot;ready&quot;, &quot;menunavself&quot;, function () {});
                        	
                        })(jQuery, IBMCore);
                        
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
