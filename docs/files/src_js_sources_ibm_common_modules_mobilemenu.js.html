<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="robots" content="index,follow">
    <title>src/js/sources/ibm/common/modules/mobilemenu.js - IBM v18 (Northstar) common Javascript documentation</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" href="http://www.ibm.com/favicon.ico">
    <script>
        digitalData = {
            page: {
                pageInfo: {
                    effectiveDate: '2017-02-25',
                    expiryDate: '2020-02-25',
                    language: 'en-US',
                    publishDate: '2017-02-25',
                    publisher: 'IBM Corporation',
                    ibm: {
                        contentDelivery: 'yuidoc via grunt',
                        contentProducer: 'Michael Santelia',
                        country: 'US',
                        owner: 'Michael Santelia'
                    }
                }
            }
        };
    </script>

    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>

    <script>

		var lastUpdate = new Date(document.lastModified),
			updatedMonth = lastUpdate.getMonth(),
			updatedDate = lastUpdate.getDate(),
			updatedYear = lastUpdate.getFullYear(),
			today = new Date(),
			todayMonth = today.getMonth(),
			todayDate = today.getDate(),
			todayYear = today.getFullYear(),
			monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"],
			lastUpdatedText = "",
			daysAgo = Math.floor((today - lastUpdate) / (1000*60*60*24));

		updatedMonthName = monthNames[updatedMonth];

		switch (daysAgo) {

			case 1: 
				lastUpdatedText = "Updated yesterday";
				break;
				
			case 0: 
				lastUpdatedText = "Updated today";
				break;
				
			default: 
				lastUpdatedText = "Updated " + daysAgo + " days ago";
				break;
		}

		if (daysAgo > 4) {
			lastUpdatedText = "Updated: " + updatedMonthName + " " + updatedDate + ", " + updatedYear;
		}

    </script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-1-2">
            <div style="background: url(http://1.www.s81c.com/i/v17/t/ibm-logo.png) no-repeat scroll 0px 0px transparent; width: 105px; height: 45px; margin: 0.85em 0px;text-indent:-9999px;">IBM v18 (Northstar) common Javascript documentation</div>
        </div>
        <div class="yui3-u-1-2 version">
            <em>Javascript documentation for: IBM v18 (Northstar)<br />
            	<span style="font-size: 0.6em; position: absolute; right: 35px;"><script>document.writeln(lastUpdatedText)</script></span></em>
        </div>
    </div>
    
    <p><a href="../assets../../v18-js-source-documentation.zip" style="margin-left: 10px; padding-left: 15px; background: url(http://1.www.s81c.com/i/v17/icons/ibm_sprite_transactional_blue_ON.png) no-repeat 0 -202px;">Download a copy of this documentation (ZIP).</a></p>
    
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4" style="float: left;width:25%;">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/IBMCore.common.module.backtotop.html">IBMCore.common.module.backtotop</a></li>
                                <li><a href="../classes/IBMCore.common.module.canadanotice.html">IBMCore.common.module.canadanotice</a></li>
                                <li><a href="../classes/IBMCore.common.module.contactmodule.html">IBMCore.common.module.contactmodule</a></li>
                                <li><a href="../classes/IBMCore.common.module.footer.html">IBMCore.common.module.footer</a></li>
                                <li><a href="../classes/IBMCore.common.module.footermenu.html">IBMCore.common.module.footermenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.leftnav.html">IBMCore.common.module.leftnav</a></li>
                                <li><a href="../classes/IBMCore.common.module.liveperson.html">IBMCore.common.module.liveperson</a></li>
                                <li><a href="../classes/IBMCore.common.module.localeselector.html">IBMCore.common.module.localeselector</a></li>
                                <li><a href="../classes/IBMCore.common.module.localpagenotification.html">IBMCore.common.module.localpagenotification</a></li>
                                <li><a href="../classes/IBMCore.common.module.masthead.html">IBMCore.common.module.masthead</a></li>
                                <li><a href="../classes/IBMCore.common.module.masthead.sticky.html">IBMCore.common.module.masthead.sticky</a></li>
                                <li><a href="../classes/IBMCore.common.module.mastheadbanner.html">IBMCore.common.module.mastheadbanner</a></li>
                                <li><a href="../classes/IBMCore.common.module.mastheadsearch.html">IBMCore.common.module.mastheadsearch</a></li>
                                <li><a href="../classes/IBMCore.common.module.merchandising.html">IBMCore.common.module.merchandising</a></li>
                                <li><a href="../classes/IBMCore.common.module.mobilemenu.html">IBMCore.common.module.mobilemenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.sharethiscontent.html">IBMCore.common.module.sharethiscontent</a></li>
                                <li><a href="../classes/IBMCore.common.module.sharethispage.html">IBMCore.common.module.sharethispage</a></li>
                                <li><a href="../classes/IBMCore.common.module.sitenavmenu.html">IBMCore.common.module.sitenavmenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.urx.html">IBMCore.common.module.urx</a></li>
                                <li><a href="../classes/IBMCore.common.translations.html">IBMCore.common.translations</a></li>
                                <li><a href="../classes/IBMCore.common.util.a11y.html">IBMCore.common.util.a11y</a></li>
                                <li><a href="../classes/IBMCore.common.util.addCssRule.html">IBMCore.common.util.addCssRule</a></li>
                                <li><a href="../classes/IBMCore.common.util.anchorlinkAdjustment.html">IBMCore.common.util.anchorlinkAdjustment</a></li>
                                <li><a href="../classes/IBMCore.common.util.bitly.html">IBMCore.common.util.bitly</a></li>
                                <li><a href="../classes/IBMCore.common.util.color.html">IBMCore.common.util.color</a></li>
                                <li><a href="../classes/IBMCore.common.util.config.html">IBMCore.common.util.config</a></li>
                                <li><a href="../classes/IBMCore.common.util.convertSecondsToHMS.html">IBMCore.common.util.convertSecondsToHMS</a></li>
                                <li><a href="../classes/IBMCore.common.util.cookie.html">IBMCore.common.util.cookie</a></li>
                                <li><a href="../classes/IBMCore.common.util.coreservices.html">IBMCore.common.util.coreservices</a></li>
                                <li><a href="../classes/IBMCore.common.util.data.html">IBMCore.common.util.data</a></li>
                                <li><a href="../classes/IBMCore.common.util.debug.html">IBMCore.common.util.debug</a></li>
                                <li><a href="../classes/IBMCore.common.util.eventCoordinator.html">IBMCore.common.util.eventCoordinator</a></li>
                                <li><a href="../classes/IBMCore.common.util.freezeScrollbars.html">IBMCore.common.util.freezeScrollbars</a></li>
                                <li><a href="../classes/IBMCore.common.util.gatekeeper.html">IBMCore.common.util.gatekeeper</a></li>
                                <li><a href="../classes/IBMCore.common.util.generateId.html">IBMCore.common.util.generateId</a></li>
                                <li><a href="../classes/IBMCore.common.util.getCurrentGridSize.html">IBMCore.common.util.getCurrentGridSize</a></li>
                                <li><a href="../classes/IBMCore.common.util.getDataAttributes.html">IBMCore.common.util.getDataAttributes</a></li>
                                <li><a href="../classes/IBMCore.common.util.getScrollbarWidth.html">IBMCore.common.util.getScrollbarWidth</a></li>
                                <li><a href="../classes/IBMCore.common.util.has12grid.html">IBMCore.common.util.has12grid</a></li>
                                <li><a href="../classes/IBMCore.common.util.hasScrollbars.html">IBMCore.common.util.hasScrollbars</a></li>
                                <li><a href="../classes/IBMCore.common.util.meta.html">IBMCore.common.util.meta</a></li>
                                <li><a href="../classes/IBMCore.common.util.perf.html">IBMCore.common.util.perf</a></li>
                                <li><a href="../classes/IBMCore.common.util.queue.html">IBMCore.common.util.queue</a></li>
                                <li><a href="../classes/IBMCore.common.util.scrolledintoview.html">IBMCore.common.util.scrolledintoview</a></li>
                                <li><a href="../classes/IBMCore.common.util.scrolltracker.html">IBMCore.common.util.scrolltracker</a></li>
                                <li><a href="../classes/IBMCore.common.util.setIpcCookie.html">IBMCore.common.util.setIpcCookie</a></li>
                                <li><a href="../classes/IBMCore.common.util.statshelper.html">IBMCore.common.util.statshelper</a></li>
                                <li><a href="../classes/IBMCore.common.util.storage.html">IBMCore.common.util.storage</a></li>
                                <li><a href="../classes/IBMCore.common.util.string.htmlspecialchars.html">IBMCore.common.util.string.htmlspecialchars</a></li>
                                <li><a href="../classes/IBMCore.common.util.url.html">IBMCore.common.util.url</a></li>
                                <li><a href="../classes/IBMCore.common.util.user.html">IBMCore.common.util.user</a></li>
                                <li><a href="../classes/IBMCore.common.widget.carousel.html">IBMCore.common.widget.carousel</a></li>
                                <li><a href="../classes/IBMCore.common.widget.ccfintercept.html">IBMCore.common.widget.ccfintercept</a></li>
                                <li><a href="../classes/IBMCore.common.widget.datatable.html">IBMCore.common.widget.datatable</a></li>
                                <li><a href="../classes/IBMCore.common.widget.datepicker.html">IBMCore.common.widget.datepicker</a></li>
                                <li><a href="../classes/IBMCore.common.widget.dyntabs.html">IBMCore.common.widget.dyntabs</a></li>
                                <li><a href="../classes/IBMCore.common.widget.fileinput.html">IBMCore.common.widget.fileinput</a></li>
                                <li><a href="../classes/IBMCore.common.widget.forms.html">IBMCore.common.widget.forms</a></li>
                                <li><a href="../classes/IBMCore.common.widget.formvalidator.html">IBMCore.common.widget.formvalidator</a></li>
                                <li><a href="../classes/IBMCore.common.widget.leavingibm.html">IBMCore.common.widget.leavingibm</a></li>
                                <li><a href="../classes/IBMCore.common.widget.manager.html">IBMCore.common.widget.manager</a></li>
                                <li><a href="../classes/IBMCore.common.widget.masonry.html">IBMCore.common.widget.masonry</a></li>
                                <li><a href="../classes/IBMCore.common.widget.overlay.html">IBMCore.common.widget.overlay</a></li>
                                <li><a href="../classes/IBMCore.common.widget.parallaxscroll.html">IBMCore.common.widget.parallaxscroll</a></li>
                                <li><a href="../classes/IBMCore.common.widget.rssdisplay.html">IBMCore.common.widget.rssdisplay</a></li>
                                <li><a href="../classes/IBMCore.common.widget.scrollable.html">IBMCore.common.widget.scrollable</a></li>
                                <li><a href="../classes/IBMCore.common.widget.selectlist.html">IBMCore.common.widget.selectlist</a></li>
                                <li><a href="../classes/IBMCore.common.widget.selectlistnav.html">IBMCore.common.widget.selectlistnav</a></li>
                                <li><a href="../classes/IBMCore.common.widget.setsameheight.html">IBMCore.common.widget.setsameheight</a></li>
                                <li><a href="../classes/IBMCore.common.widget.showhide.html">IBMCore.common.widget.showhide</a></li>
                                <li><a href="../classes/IBMCore.common.widget.stepindicator.html">IBMCore.common.widget.stepindicator</a></li>
                                <li><a href="../classes/IBMCore.common.widget.stickytabs.html">IBMCore.common.widget.stickytabs</a></li>
                                <li><a href="../classes/IBMCore.common.widget.syntaxhighlighter.html">IBMCore.common.widget.syntaxhighlighter</a></li>
                                <li><a href="../classes/IBMCore.common.widget.tablerowselector.html">IBMCore.common.widget.tablerowselector</a></li>
                                <li><a href="../classes/IBMCore.common.widget.tooltip.html">IBMCore.common.widget.tooltip</a></li>
                                <li><a href="../classes/IBMCore.common.widget.twisty.html">IBMCore.common.widget.twisty</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videolooper.html">IBMCore.common.widget.videolooper</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.html">IBMCore.common.widget.videoplayer</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.kaltura.html">IBMCore.common.widget.videoplayer.kaltura</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.ustream.html">IBMCore.common.widget.videoplayer.ustream</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.youtube.html">IBMCore.common.widget.videoplayer.youtube</a></li>
                                <li><a href="../classes/IBMCore.namespace.html">IBMCore.namespace</a></li>
                                <li><a href="../classes/IBMCore.www.module.dynamiccontactmodule.html">IBMCore.www.module.dynamiccontactmodule</a></li>
                                <li><a href="../classes/IBMCore.www.module.truste.html">IBMCore.www.module.truste</a></li>
                                <li><a href="../classes/jQuery.browser.html">jQuery.browser</a></li>
                                <li><a href="../classes/jQuery.fn.dataTable.html">jQuery.fn.dataTable</a></li>
                                <li><a href="../classes/jQuery.fn.slick.html">jQuery.fn.slick</a></li>
                                <li><a href="../classes/jQuery.layout.html">jQuery.layout</a></li>
                                <li><a href="../classes/jQuery.os.html">jQuery.os</a></li>
                                <li><a href="../classes/jQuery:focusable.html">jQuery:focusable</a></li>
                                <li><a href="../classes/Masonry.html">Masonry</a></li>
                                <li><a href="../classes/Modernizr.html">Modernizr</a></li>
                                <li><a href="../classes/Mustache.html">Mustache</a></li>
                                <li><a href="../classes/NanoScroll.html">NanoScroll</a></li>
                                <li><a href="../classes/Other IBM - Canada notice loader.html">Other IBM - Canada notice loader</a></li>
                                <li><a href="../classes/Other IBM - common init.html">Other IBM - common init</a></li>
                                <li><a href="../classes/Other IBM - common v18 page tracker.html">Other IBM - common v18 page tracker</a></li>
                                <li><a href="../classes/Other IBM - errorchecking.html">Other IBM - errorchecking</a></li>
                                <li><a href="../classes/Other IBM - footer feedback link.html">Other IBM - footer feedback link</a></li>
                                <li><a href="../classes/Other IBM - grid change.html">Other IBM - grid change</a></li>
                                <li><a href="../classes/Other IBM - jstimer-end.html">Other IBM - jstimer-end</a></li>
                                <li><a href="../classes/Other IBM - jstimer-start.html">Other IBM - jstimer-start</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/IBMCore.html">IBMCore</a></li>
                                <li><a href="../modules/jQuery.browser.html">jQuery.browser</a></li>
                                <li><a href="../modules/jQuery.dataTable.html">jQuery.dataTable</a></li>
                                <li><a href="../modules/jQuery.slick.html">jQuery.slick</a></li>
                                <li><a href="../modules/Masonry.html">Masonry</a></li>
                                <li><a href="../modules/Modernizr.html">Modernizr</a></li>
                                <li><a href="../modules/Mustache.html">Mustache</a></li>
                                <li><a href="../modules/Nanoscroller.html">Nanoscroller</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4"style="float: left;width:75%;">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected" checked>
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private" checked>
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated" checked>
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/js/sources/ibm/common/modules/mobilemenu.js</h1>
                        
                        <div class="file">
                            <pre class="code prettyprint linenums">
                        /**
                        
                        	This builds the hamburger menu (formerly &quot;mobile menu&quot;).
                        	&lt;br /&gt;It simply replicates the masthead links + page nav links and put them into a overlay that slides in from the right.
                        
                        	@class IBMCore.common.module.mobilemenu
                        
                        **/
                        
                        (function($, IBM) {
                          /**
                        		Publishes this event after complete mobilemenu is built.
                        
                        		@event ready
                        	**/
                          var me = IBM.namespace(IBM, &#x27;common.module.mobilemenu&#x27;),
                            myEvents = IBM.common.util.eventCoordinator(me, &#x27;mobilemenu&#x27;, [&#x27;ready&#x27;]),
                            currentlyShowing = false,
                            $elements = {
                              menuScreen: {},
                            },
                            mastheadLinklists = null,
                            $mobilemenu,
                            $mobilePagenavLinks,
                            $mobileParentMenunavLinks,
                            $mobileMenunavLinks,
                            $mobileCategoryLinks;
                        
                          me.isLoaded = false;
                        
                          /**
                        		Callback from subscription to meta data &#x27;ready&#x27; event publisher. Checks if masthead is enabled (default).
                        		&lt;br /&gt;If so, subscribe to masthead and then init mobilemenu if enabled.
                        		&lt;br /&gt;Two separate checks so that a masthead type can override and disable/enable it (Ex: popup masthead disables it).
                        
                        		@method autoInit
                        	**/
                          me.autoInit = function() {
                            if (IBM.common.util.config.isEnabled(&#x27;masthead&#x27;)) {
                              IBM.common.module.masthead.subscribe(&#x27;ready&#x27;, &#x27;mobilemenu&#x27;, function() {
                                if (IBM.common.util.config.isEnabled(&#x27;masthead.mobilemenu&#x27;)) {
                                  setTimeout(me.init, 100);
                                }
                              });
                            }
                          };
                        
                          /**
                        		Callback from subscription to masthead &#x27;ready&#x27; event publisher inside autoInit.
                        		&lt;br /&gt;Creates the burger menu (clones masthead into this).
                        		&lt;br /&gt;Since we had to wait for masthead to be in the DOM, it means DOM &amp; masthead is ready.
                        
                        		@method init
                        	**/
                          me.init = function() {
                            mastheadLinklists = IBM.common.module.masthead.getMastheadLinklists();
                        
                            // Removes any existing one from a page locale change/re-init. Gets reset below when we create the new one.
                            $(document.getElementsByClassName(&#x27;ibm-mobilemenu&#x27;)[0]).remove();
                        
                            $elements.menuScreen = $(document.getElementById(&#x27;ibm-mobilemenu-screen&#x27;));
                        
                            // Add the background screen if it doesn&#x27;t exist already (from a locale change).
                            if (!$elements.menuScreen[0]) {
                              $elements.menuScreen = $(
                                &#x27;&lt;div id=&quot;ibm-mobilemenu-screen&quot;&gt;&lt;/div&gt;&#x27;
                              ).appendTo(document.body);
                            }
                        
                            // Setup all the HTML elements into vars.
                            $mobilePagenavLinks = createBurgerPagenavLinks();
                            $mobileParentMenunavLinks = createBurgerParentMenunavLinks();
                            $mobileMenunavLinks = createBurgerMenunavLinks();
                            $mobileCategoryLinks = createCatnavSection();
                        
                            var mobilemenuCloseHtml =
                              &#x27;&lt;div class=&quot;ibm-mobilemenu-close&quot;&gt;&lt;p class=&quot;ibm-icononly ibm-fright ibm-ind-link ibm-nospacing&quot;&gt;&lt;a class=&quot;ibm-close-link&quot; href=&quot;#&quot;&gt;&#x27; +
                              IBM.common.translations.data.v18main.misc.close +
                              &#x27;&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;&#x27;;
                        
                            // If there&#x27;s no site navigation, show the masthead links all open by default.
                            if (!$mobilePagenavLinks &amp;&amp; !$mobileMenunavLinks) {
                              $mobileCategoryLinks
                                .find(&#x27;.ibm-show-hide &gt; h2&#x27;)
                                .attr(&#x27;data-open&#x27;, &#x27;true&#x27;);
                            }
                        
                            // Add the HTML items into the mobile menu container, then prepend it to top div (above masthead).
                            $mobilemenu = $(
                              &#x27;&lt;div class=&quot;ibm-mobilemenu ibm-hide&quot; id=&quot;ibm-burger-menu-container&quot; aria-labelledby=&quot;ibm-burgermenu-a11y&quot; role=&quot;dialog&quot; tabindex=&quot;0&quot;&gt;&lt;/div&gt;&#x27;
                            )
                              .append(
                                &#x27;&lt;p class=&quot;ibm-hide&quot; id=&quot;ibm-burgermenu-a11y&quot;&gt;&#x27; +
                                  (IBM.common.translations.data.v18main.misc.sitenav ||
                                    &#x27;Site navigation&#x27;) +
                                  &#x27;&lt;/p&gt;&#x27;
                              )
                              .append(mobilemenuCloseHtml) // Close button swapped with burger icon in MH.
                              .append($mobilePagenavLinks)
                              .append($mobileParentMenunavLinks)
                              .append($mobileMenunavLinks)
                              .append($mobileCategoryLinks)
                              .insertAfter(&#x27;#ibm-masthead&#x27;);
                        
                            // Setup the menu bindings and do misc stuff behind the scenes.
                            // SetTimeout pushes these to the back of the onload queue so we don&#x27;t delay onscreen rendering.)
                            setTimeout(function() {
                              setupMobilemenuBindings();
                        
                              // Blanketly tag every link with special param (lnk prepended with &quot;hm&quot; so page owners can tell if
                              //  the link was clicked from the masthead/page content, or from the burger menu.
                              $mobilemenu.find(&#x27;a&#x27;).each(function() {
                                var newUrl = IBM.common.util.url.addParam({
                                  url: this.getAttribute(&#x27;href&#x27;),
                                  paramName: &#x27;lnk&#x27;,
                                  paramValue:
                                    &#x27;hm&#x27; + (IBM.common.util.url.getParam(&#x27;lnk&#x27;, this.href) || &#x27;&#x27;),
                                });
                                this.href = newUrl;
                              });
                        
                              // Setup any show/hides we placed.
                              setupShowhides();
                        
                              // Setup page nav. Handles nested LI classes and a11y tree control setup.
                              setupPageNavs();
                        
                              // We need to  know when two show-hides are open, so add a state to the parent LI.
                              $mobilemenu.find(&#x27;.ibm-show-hide h2 a&#x27;).on(&#x27;click&#x27;, function() {
                                var $thisLink = $(this);
                                if ($thisLink.parent(&#x27;h2.ibm-showing&#x27;)[0]) {
                                  $thisLink.closest(&#x27;.ibm-haschildlist&#x27;).addClass(&#x27;ibm-showing&#x27;);
                                } else {
                                  $thisLink.closest(&#x27;.ibm-haschildlist&#x27;).removeClass(&#x27;ibm-showing&#x27;);
                                }
                              });
                        
                              $mobilemenu.find(&#x27;.ibm-mobilemenu-mhlinks&#x27;).each(function() {
                                IBM.common.util.a11y.makeToolbarAccessible({
                                  el: this,
                                });
                              });
                        
                              // If they tab off any links in the last section, loop back around to the close link (the first one in the loop).
                              // This includes the show/hide trigger, in case it&#x27;s closed.
                              $mobilemenu.find(&#x27;.ibm-mobilemenu-section:last a&#x27;).keydown(function(evt) {
                                if (evt.keyCode === 9 &amp;&amp; !evt.shiftKey) {
                                  // If the keyboard tab is on the show/hide trigger and it&#x27;s open, let tab goto the next A naturally.
                                  // Else it&#x27;s closed or we&#x27;re not on it, which means nothing is left to tab to so loop back to close button.
                                  if ($(this).hasClass(&#x27;ibm-show-active&#x27;)) {
                                    return;
                                  }
                                  evt.preventDefault();
                                  $mobilemenu.find(&#x27;a:first&#x27;).focus();
                                }
                              });
                        
                              // If they backtab from the &quot;close&quot; link, loop back to the bottom links (the last one in the loop).
                              $mobilemenu.find(&#x27;.ibm-mobilemenu-close a&#x27;).keydown(function(evt) {
                                if (evt.keyCode === 9 &amp;&amp; evt.shiftKey) {
                                  evt.preventDefault();
                                  $mobilemenu.find(&#x27;a:visible:last&#x27;).focus();
                                }
                              });
                        
                              $elements.menuScreen.on(&#x27;click&#x27;, function() {
                                if (IBM.common.module.mobilemenu.isShowing()) {
                                  IBM.common.module.mobilemenu.hide();
                                }
                              });
                            }, 100);
                        
                            // Tell subscribers we&#x27;re all done.
                            me.isLoaded = true;
                        
                            myEvents.publish(&#x27;ready&#x27;);
                          };
                        
                          /**
                        		Take the main masthead links and inject them into the burger menu.
                        
                        		@method createCatnavSection
                        		@private
                        		@return {DOM element} The new element to inject as the category nav links section.
                        	**/
                          function createCatnavSection() {
                            var container =
                                &#x27;&lt;div class=&quot;ibm-mobilemenu-section&quot;&gt;&#x27; +
                                mastheadLinklists.mainLinks.burgerMenuHtml +
                                &#x27;&lt;/div&gt;&#x27;,
                              $container = $(container)
                                .find(&#x27;.ibm-masthead-categories&#x27;)
                                .attr(&#x27;class&#x27;, &#x27;ibm-masthead-categories-mobilemenu&#x27;)
                                .end();
                        
                            return $container;
                          }
                        
                          /**
                        		Clones page nav (left or tabs), cleans up IDs &amp; classes, then returns clone ready for DOM injection.
                        
                        		@method createBurgerPagenavLinks
                        		@private
                        		@return {DOM element} The new element to inject as the page left or tab nav links section.
                        	**/
                          function createBurgerPagenavLinks() {
                            var $pageNav,
                              priTabs = document.getElementById(&#x27;ibm-primary-tabs&#x27;),
                              secTabs = document.getElementById(&#x27;ibm-secondary-tabs&#x27;),
                              leftNav = document.getElementById(&#x27;ibm-primary-links&#x27;),
                              leftSecondaryNav = document.getElementById(&#x27;ibm-secondary-navigation&#x27;);
                        
                            if ($(priTabs).find(&#x27;li&#x27;).length &gt; 0) {
                              $pageNav = $(priTabs)
                                .find(&#x27;ul&#x27;)
                                .clone(true);
                        
                              if ($(&quot;#ibm-primary-tabs[data-widget=&#x27;dyntabs&#x27;]&quot;)[0]) {
                                $pageNav.attr(&#x27;data-type&#x27;, &#x27;dyntabs&#x27;);
                              }
                        
                              // If there&#x27;s subtabs, nest them in the LI that&#x27;s active where they belong, just like the left nav.
                              if ($(secTabs).find(&#x27;li&#x27;).length &gt; 0) {
                                $pageNav.find(&quot;a[aria-selected=&#x27;true&#x27;]&quot;).after(
                                  $(secTabs)
                                    .find(&#x27;ul&#x27;)
                                    .clone()
                                );
                              }
                            } else if ($(secTabs).find(&#x27;li&#x27;).length &gt; 0) {
                              $pageNav = $(secTabs)
                                .find(&#x27;ul&#x27;)
                                .clone()
                                .removeAttr(&#x27;id&#x27;);
                            } else if ($(leftNav).find(&#x27;li&#x27;).length &gt; 0) {
                              $pageNav = $(leftNav)
                                .clone()
                                .removeAttr(&#x27;id&#x27;);
                              $pageNav
                                .find(&#x27;.ibm-show-hide.ibm-widget-processed&#x27;)
                                .removeClass(&#x27;ibm-widget-processed&#x27;)
                                .find(&#x27;.ibm-container-body&#x27;)
                                .removeAttr(&#x27;style&#x27;);
                        
                              // If there are related links, clone it, setup as show/hide, then add to page nav to inject.
                              if ($(leftSecondaryNav).find(&#x27;li&#x27;).length &gt; 0) {
                                leftSecondaryNav = $(leftSecondaryNav)
                                  .clone()
                                  .attr(&#x27;id&#x27;, &#x27;ibm-mobile-menu-lnavrel-links&#x27;)
                                  .wrapInner(
                                    &#x27;&lt;div class=&quot;ibm-show-hide&quot; data-type=&quot;panel&quot; data-widget=&quot;showhide&quot;&gt;&lt;/div&gt;&#x27;
                                  )
                                  .find(&#x27;ul&#x27;)
                                  .addClass(&#x27;ibm-padding-top-0&#x27;)
                                  .wrap(&#x27;&lt;div class=&quot;ibm-container-body&quot;&gt;&lt;div&gt;&#x27;)
                                  .end();
                        
                                $pageNav = $pageNav.add(leftSecondaryNav);
                              }
                            } else {
                              return $pageNav; // Just return if there&#x27;s no left nav or tabs.
                            }
                        
                            // Cleanup to remove tab class so they don&#x27;t get formatted horizontally like tabs,
                            //  and add new class for styling in the mobile menu.
                            $pageNav
                              .removeClass(&#x27;ibm-tabs&#x27;)
                              .find(&#x27;.ibm-tabs&#x27;)
                              .removeClass(&#x27;ibm-tabs&#x27;);
                        
                            // Remove any IDs.
                            $pageNav.find(&#x27;[id]&#x27;).removeAttr(&#x27;id&#x27;);
                        
                            // Left nav and tabs use aria-selected, and boths sets of tabs can have one, so find the &quot;last&quot;
                            //  one that we&#x27;re on and tag it specially.
                            $pageNav
                              .find(&quot;a[aria-selected=&#x27;true&#x27;]:last&quot;)
                              .wrapInner(&#x27;&lt;span&gt;&#x27;)
                              .parent()
                              .addClass(&#x27;ibm-mobilemenu-nav-selected&#x27;);
                        
                            return $(
                              &#x27;&lt;div class=&quot;ibm-mobilemenu-section ibm-mobilemenu-pagenav&quot;&gt;&lt;/div&gt;&#x27;
                            ).html($pageNav);
                          }
                        
                          /**
                        		Clones the new site nav menu then returns clone ready for DOM injection.
                        
                        		@method createBurgerMenunavLinks
                        		@private
                        		@return {DOM element} The new element to inject as the page menunav links section.
                        	**/
                          function createBurgerMenunavLinks() {
                            var $pageNav;
                        
                            // Stop if there&#x27;s no site nav menu on the page.
                            if (
                              !document.getElementsByClassName(&#x27;ibm-sitenav-menu-container&#x27;)[0] ||
                              $(&#x27;.ibm-sitenav-menu-list &gt; ul &gt; li&#x27;).length === 0
                            ) {
                              return;
                            }
                        
                            $pageNav = $(&#x27;.ibm-sitenav-menu-container&#x27;)
                              .children(&#x27;.ibm-sitenav-menu-list&#x27;)
                              .children(&#x27;ul&#x27;)
                              .clone();
                        
                            // Add/clone site name if it exists.
                            if (document.getElementsByClassName(&#x27;ibm-sitenav-menu-name&#x27;)[0]) {
                              $pageNav.prepend(
                                &#x27;&lt;li class=&quot;ibm-mobile-section-heading ibm-mobile-sitename&quot;&gt;&#x27; +
                                  $(
                                    document.getElementsByClassName(&#x27;ibm-sitenav-menu-name&#x27;)[0]
                                  ).html() +
                                  &#x27;&lt;/li&gt;&#x27;
                              );
                            }
                        
                            // Add/clone parent site name if it exists.
                            if (document.getElementsByClassName(&#x27;ibm-parent-site-name&#x27;)[0]) {
                              $pageNav.prepend(
                                &#x27;&lt;li class=&quot;ibm-mobile-section-heading ibm-mobile-sitename&quot;&gt;&#x27; +
                                  $(document.getElementsByClassName(&#x27;ibm-parent-site-name&#x27;)[0]).html() +
                                  &#x27;&lt;/li&gt;&#x27;
                              );
                            }
                        
                            // Find any links (button or a) that specified an alternate label and
                            //  change that link text to use the alternate label specified.
                            $pageNav.find(&#x27;[data-altlabel]&#x27;).each(function() {
                              $(this).text($(this).attr(&#x27;data-altlabel&#x27;));
                            });
                        
                            // Add class to the parent LI b/c it sets the &quot;you are here&quot; left border on the item.
                            // (Instead of the &lt;a&gt; b/c the A does the indented top border).
                            // Normalize for old way to highlight (class on the &lt;a&gt;).
                            $pageNav
                              .find(&#x27;a.ibm-highlight&#x27;)
                              .removeClass(&#x27;ibm-highlight&#x27;)
                              .parent()
                              .addClass(&#x27;ibm-highlight&#x27;);
                            $pageNav
                              .find(&#x27;.ibm-highlight&#x27;)
                              .addClass(&#x27;ibm-mobilemenu-nav-selected&#x27;)
                              .children(&#x27;a&#x27;)
                              .closest(&#x27;li.ibm-haschildlist&#x27;)
                              .attr(&#x27;aria-expanded&#x27;, &#x27;true&#x27;);
                        
                            // For each menu item that has a child list, set it up to be a basic show/hide.
                            $pageNav
                              .find(&#x27;li.ibm-haschildlist&#x27;)
                              .wrapInner(
                                &#x27;&lt;div class=&quot;ibm-show-hide&quot; data-type=&quot;panel&quot; data-widget=&quot;showhide&quot;&gt;&lt;/div&gt;&#x27;
                              )
                              .each(function() {
                                var $mainItem = $(this),
                                  itemTrigger =
                                    $mainItem.find(&#x27;&gt; div &gt; button&#x27;)[0] ||
                                    $mainItem.find(&#x27;&gt; div &gt; span&#x27;)[0],
                                  useText = itemTrigger.innerHTML;
                        
                                $(&#x27;&lt;h2&gt;&#x27; + useText + &#x27;&lt;/h2&gt;&#x27;)
                                  .replaceAll($(itemTrigger))
                                  .siblings(&#x27;ul&#x27;)
                                  .addClass(&#x27;ibm-padding-top-0&#x27;)
                                  .removeAttr(&#x27;style&#x27;)
                                  .wrap(&#x27;&lt;div class=&quot;ibm-container-body&quot;&gt;&lt;div&gt;&#x27;);
                              });
                        
                            // Find the menu item that we&#x27;re on, and set it&#x27;s show/hide to be open by default.
                            $pageNav
                              .find(&#x27;.ibm-highlight&#x27;)
                              .closest(&#x27;.ibm-show-hide&#x27;)
                              .children(&#x27;h2&#x27;)
                              .attr(&#x27;data-open&#x27;, &#x27;true&#x27;);
                        
                            //data-widget=&quot;showhide&quot; data-type=&quot;panel&quot;
                            return $(
                              &#x27;&lt;div class=&quot;ibm-mobilemenu-section ibm-mobilemenu-sitenavmenu&quot;&gt;&lt;/div&gt;&#x27;
                            ).html($pageNav);
                          }
                        
                          /**
                        		Clones the new parent menu nav then returns clone ready for DOM injection.
                        
                        		@method createBurgerParentMenunavLinks
                        		@private
                        		@return {DOM element} The new element to inject as the page parent menunav links section.
                        	**/
                          function createBurgerParentMenunavLinks() {
                            var $pageNav;
                        
                            // Stop if there&#x27;s no site nav menu on the page.
                            if (
                              !document.getElementsByClassName(&#x27;ibm-parent-site-menu&#x27;)[0] ||
                              $(&#x27;.ibm-parent-site-menu&#x27;).find(&#x27;ul &gt; li&#x27;).length === 0
                            ) {
                              return;
                            }
                        
                            $pageNav = $(&#x27;.ibm-parent-site-menu&#x27;)
                              .children(&#x27;.ibm-sitenav-menu-list&#x27;)
                              .children(&#x27;ul&#x27;)
                              .clone();
                        
                            // Find any links (button or a) that specified an alternate label and
                            //  change that link text to use the alternate label specified.
                            $pageNav.find(&#x27;[data-altlabel]&#x27;).each(function() {
                              $(this).text($(this).attr(&#x27;data-altlabel&#x27;));
                            });
                        
                            // Add class to the parent LI b/c it sets the &quot;you are here&quot; left border on the item.
                            // (Instead of the &lt;a&gt; b/c the A does the indented top border).
                            // Normalize for old way to highlight (class on the &lt;a&gt;).
                            $pageNav
                              .find(&#x27;a.ibm-highlight&#x27;)
                              .removeClass(&#x27;ibm-highlight&#x27;)
                              .parent()
                              .addClass(&#x27;ibm-highlight&#x27;);
                            $pageNav
                              .find(&#x27;.ibm-highlight&#x27;)
                              .addClass(&#x27;ibm-mobilemenu-nav-selected&#x27;)
                              .children(&#x27;a&#x27;)
                              .closest(&#x27;li.ibm-haschildlist&#x27;)
                              .attr(&#x27;aria-expanded&#x27;, &#x27;true&#x27;);
                        
                            // For each menu item that has a child list, set it up to be a basic show/hide.
                            $pageNav
                              .find(&#x27;li.ibm-haschildlist&#x27;)
                              .wrapInner(
                                &#x27;&lt;div class=&quot;ibm-show-hide&quot; data-type=&quot;panel&quot; data-widget=&quot;showhide&quot;&gt;&lt;/div&gt;&#x27;
                              )
                              .each(function() {
                                var $mainItem = $(this),
                                  itemTrigger =
                                    $mainItem.find(&#x27;&gt; div &gt; button&#x27;)[0] ||
                                    $mainItem.find(&#x27;&gt; div &gt; span&#x27;)[0],
                                  useText = itemTrigger.innerHTML;
                        
                                $(&#x27;&lt;h2&gt;&#x27; + useText + &#x27;&lt;/h2&gt;&#x27;)
                                  .replaceAll($(itemTrigger))
                                  .siblings(&#x27;ul&#x27;)
                                  .addClass(&#x27;ibm-padding-top-0&#x27;)
                                  .removeAttr(&#x27;style&#x27;)
                                  .wrap(&#x27;&lt;div class=&quot;ibm-container-body&quot;&gt;&lt;div&gt;&#x27;);
                              });
                        
                            // Find the menu item that we&#x27;re on, and set it&#x27;s show/hide to be open by default.
                            $pageNav
                              .find(&#x27;.ibm-highlight&#x27;)
                              .closest(&#x27;.ibm-show-hide&#x27;)
                              .children(&#x27;h2&#x27;)
                              .attr(&#x27;data-open&#x27;, &#x27;true&#x27;);
                        
                            //data-widget=&quot;showhide&quot; data-type=&quot;panel&quot;
                            return $(
                              &#x27;&lt;div class=&quot;ibm-mobilemenu-section ibm-mobilemenu-sitenavmenu&quot;&gt;&lt;/div&gt;&#x27;
                            ).html($pageNav);
                          }
                        
                          /**
                        		Sets up bindings for the close button.
                        
                        		@method setupMobilemenuBindings
                        		@private
                        	**/
                          function setupMobilemenuBindings() {
                            $(document.getElementsByClassName(&#x27;ibm-mobilemenu-close&#x27;)[0]).click(
                              function(evt) {
                                evt.preventDefault();
                                me.hide();
                                $(document.getElementsByClassName(&#x27;ibm-masthead-item-menu&#x27;)[0])
                                  .find(&#x27;button&#x27;)
                                  .focus();
                              }
                            );
                          }
                        
                          /**
                        		Sets up styling/extra HTML for page nav in menu and its a11y controls.
                        
                        		@method setupPageNavs
                        		@private
                        	**/
                          function setupPageNavs() {
                            // For any nested list items, wrap the link text in a span so that we can put a border under the text on hover.
                            $mobilemenu.find(&#x27;.ibm-mobilemenu-section li li a&#x27;).wrapInner(&#x27;&lt;span&gt;&#x27;);
                        
                            IBM.common.util.a11y.makeTreeAccessible({
                              el: $mobilemenu.find(&#x27;.ibm-mobilemenu-pagenav &gt; ul&#x27;),
                            });
                        
                            IBM.common.util.a11y.makeToolbarAccessible({
                              el: $mobilemenu.find(&#x27;.ibm-mobilemenu-sitenavmenu &gt; ul&#x27;),
                            });
                          }
                        
                          /**
                        		Inits show/hides not inited yet and tags selected nav item&#x27;s show/hide container for highlighting.
                        
                        		@method setupShowhides
                        		@private
                        	**/
                          function setupShowhides() {
                            // Init any un-init&#x27;d show/hides and then tag the one currently opened with the common class.
                            $mobilemenu.find(&#x27;.ibm-show-hide:not(.ibm-widget-processed)&#x27;).showhide();
                        
                            // Add the class to the currently opened one.
                            $mobilemenu
                              .find(&#x27;.ibm-mobilemenu-nav-selected .ibm-show-hide&#x27;)
                              .parent()
                              .addClass(&#x27;ibm-showing&#x27;);
                          }
                        
                          /**
                        		API for pages that use AJAX or inject tabs or menu nav after page load.
                        		&lt;br /&gt;After you inject your site&#x27;s menu or tab nav, call this to clone it into the burger menu.
                        		&lt;br /&gt;In case you make it and inject your HTML before burger menu creates, if the page nav already exists in the burger menu
                        		 this stops and does nothing.
                        
                        		@method addSiteNavigation
                        	**/
                          me.addSiteNavigation = function() {
                            // Safety for timing issue in case the site menu made it in there on page load.
                            // This prevents a page from calling this and injecting the site nav if it&#x27;s already in the burger menu.
                            if ($mobilePagenavLinks || $mobileMenunavLinks) {
                              return;
                            }
                        
                            $mobilePagenavLinks = createBurgerPagenavLinks();
                            $mobileMenunavLinks = createBurgerMenunavLinks();
                        
                            // If any site nav elements were cloned and created for us to use;
                            // Close the show/hides if they were expanded because there was no sitenav in the burger menu.
                            // Then prepend the site nav and setup the selected items and the show/hides.
                            if ($mobilePagenavLinks || $mobileMenunavLinks) {
                              $mobileCategoryLinks
                                .find(&#x27;.ibm-show-hide.ibm-widget-processed &gt; h2 a.ibm-show-active&#x27;)
                                .trigger(&#x27;click&#x27;);
                        
                              // Prepend the nav items found on the page.
                              $mobilemenu
                                .find(&#x27;.ibm-mobilemenu-section:first&#x27;)
                                .prepend($mobileMenunavLinks)
                                .prepend($mobilePagenavLinks);
                        
                              // Setup any show/hides we placed.
                              setupShowhides();
                        
                              // Setup page nav we injected by adding nested LI inner span and setup a11y controls on it.
                              setupPageNavs();
                            }
                          };
                        
                          /**
                        		Shows the burger menu.
                        
                        		@method show
                        	**/
                          me.show = function() {
                            $mobilemenu.removeClass(&#x27;ibm-hide&#x27;);
                        
                            setTimeout(function() {
                              $(document.body).addClass(
                                &#x27;ibm-show-mobilemenu-screen ibm-mobilemenu-show&#x27;
                              );
                              $mobilemenu.focus();
                              IBM.common.util.freezeScrollbars(true);
                              currentlyShowing = true;
                            }, 30);
                          };
                        
                          /**
                        		Hides the burger menu.
                        
                        		@method hide
                        	**/
                          me.hide = function() {
                            $(document.body).removeClass(&#x27;ibm-mobilemenu-show&#x27;);
                        
                            setTimeout(function() {
                              $(document.body).removeClass(&#x27;ibm-show-mobilemenu-screen&#x27;);
                              IBM.common.util.freezeScrollbars(false);
                            }, 150);
                        
                            // Make sure this is set to be after whatever the CSS transition is (currently 0.3s)
                            setTimeout(function() {
                              $mobilemenu.addClass(&#x27;ibm-hide&#x27;);
                        
                              currentlyShowing = false;
                            }, 400);
                          };
                        
                          /**
                        		Simple helper to toggle the burger menu showing/hiding.
                        
                        		@method toggle
                        	**/
                          me.toggle = function() {
                            if (me.isShowing()) {
                              me.hide();
                            } else {
                              me.show();
                            }
                          };
                        
                          /**
                        		Simple helper that tells you if the burger menu is showing or not.
                        
                        		@method isShowing
                        		@return {Boolean} True if it&#x27;s open, false if it&#x27;s closed.
                        	**/
                          me.isShowing = function() {
                            return currentlyShowing;
                          };
                        
                          /**
                        		Deprecated. Use &quot;isShowing&quot; instead. Makes more sense.
                        
                        		@method isOpen
                        		@deprecated
                        	**/
                          me.isOpen = me.isShowing;
                        
                          /* Wait for events to happen.
                           **********************************************************************************************/
                        
                          // When meta data is ready (config), call auto init.
                          IBM.common.meta
                            .subscribe(&#x27;dataReady&#x27;, &#x27;mobilemenu&#x27;, me.autoInit)
                            .runAsap(me.autoInit);
                        })(jQuery, IBMCore);
                        
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
