<!DOCTYPE html>
<html lang="en-US">
<head>
    <meta charset="utf-8">
    <meta name="robots" content="index,follow">
    <title>src/js/sources/ibm/common/lib/picker.date.js - IBM v18 (Northstar) common Javascript documentation</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" href="http://www.ibm.com/favicon.ico">
    <script>
        digitalData = {
            page: {
                pageInfo: {
                    effectiveDate: '2017-02-25',
                    expiryDate: '2020-02-25',
                    language: 'en-US',
                    publishDate: '2017-02-25',
                    publisher: 'IBM Corporation',
                    ibm: {
                        contentDelivery: 'yuidoc via grunt',
                        contentProducer: 'Michael Santelia',
                        country: 'US',
                        owner: 'Michael Santelia'
                    }
                }
            }
        };
    </script>

    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>

    <script>

		var lastUpdate = new Date(document.lastModified),
			updatedMonth = lastUpdate.getMonth(),
			updatedDate = lastUpdate.getDate(),
			updatedYear = lastUpdate.getFullYear(),
			today = new Date(),
			todayMonth = today.getMonth(),
			todayDate = today.getDate(),
			todayYear = today.getFullYear(),
			monthNames = ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November","December"],
			lastUpdatedText = "",
			daysAgo = Math.floor((today - lastUpdate) / (1000*60*60*24));

		updatedMonthName = monthNames[updatedMonth];

		switch (daysAgo) {

			case 1: 
				lastUpdatedText = "Updated yesterday";
				break;
				
			case 0: 
				lastUpdatedText = "Updated today";
				break;
				
			default: 
				lastUpdatedText = "Updated " + daysAgo + " days ago";
				break;
		}

		if (daysAgo > 4) {
			lastUpdatedText = "Updated: " + updatedMonthName + " " + updatedDate + ", " + updatedYear;
		}

    </script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-1-2">
            <div style="background: url(http://1.www.s81c.com/i/v17/t/ibm-logo.png) no-repeat scroll 0px 0px transparent; width: 105px; height: 45px; margin: 0.85em 0px;text-indent:-9999px;">IBM v18 (Northstar) common Javascript documentation</div>
        </div>
        <div class="yui3-u-1-2 version">
            <em>Javascript documentation for: IBM v18 (Northstar)<br />
            	<span style="font-size: 0.6em; position: absolute; right: 35px;"><script>document.writeln(lastUpdatedText)</script></span></em>
        </div>
    </div>
    
    <p><a href="../assets../../v18-js-source-documentation.zip" style="margin-left: 10px; padding-left: 15px; background: url(http://1.www.s81c.com/i/v17/icons/ibm_sprite_transactional_blue_ON.png) no-repeat 0 -202px;">Download a copy of this documentation (ZIP).</a></p>
    
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4" style="float: left;width:25%;">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/IBMCore.common.module.backtotop.html">IBMCore.common.module.backtotop</a></li>
                                <li><a href="../classes/IBMCore.common.module.canadanotice.html">IBMCore.common.module.canadanotice</a></li>
                                <li><a href="../classes/IBMCore.common.module.contactmodule.html">IBMCore.common.module.contactmodule</a></li>
                                <li><a href="../classes/IBMCore.common.module.footer.html">IBMCore.common.module.footer</a></li>
                                <li><a href="../classes/IBMCore.common.module.footermenu.html">IBMCore.common.module.footermenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.leftnav.html">IBMCore.common.module.leftnav</a></li>
                                <li><a href="../classes/IBMCore.common.module.liveperson.html">IBMCore.common.module.liveperson</a></li>
                                <li><a href="../classes/IBMCore.common.module.localeselector.html">IBMCore.common.module.localeselector</a></li>
                                <li><a href="../classes/IBMCore.common.module.localpagenotification.html">IBMCore.common.module.localpagenotification</a></li>
                                <li><a href="../classes/IBMCore.common.module.masthead.html">IBMCore.common.module.masthead</a></li>
                                <li><a href="../classes/IBMCore.common.module.masthead.sticky.html">IBMCore.common.module.masthead.sticky</a></li>
                                <li><a href="../classes/IBMCore.common.module.mastheadbanner.html">IBMCore.common.module.mastheadbanner</a></li>
                                <li><a href="../classes/IBMCore.common.module.mastheadsearch.html">IBMCore.common.module.mastheadsearch</a></li>
                                <li><a href="../classes/IBMCore.common.module.merchandising.html">IBMCore.common.module.merchandising</a></li>
                                <li><a href="../classes/IBMCore.common.module.mobilemenu.html">IBMCore.common.module.mobilemenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.sharethiscontent.html">IBMCore.common.module.sharethiscontent</a></li>
                                <li><a href="../classes/IBMCore.common.module.sharethispage.html">IBMCore.common.module.sharethispage</a></li>
                                <li><a href="../classes/IBMCore.common.module.sitenavmenu.html">IBMCore.common.module.sitenavmenu</a></li>
                                <li><a href="../classes/IBMCore.common.module.urx.html">IBMCore.common.module.urx</a></li>
                                <li><a href="../classes/IBMCore.common.translations.html">IBMCore.common.translations</a></li>
                                <li><a href="../classes/IBMCore.common.util.a11y.html">IBMCore.common.util.a11y</a></li>
                                <li><a href="../classes/IBMCore.common.util.addCssRule.html">IBMCore.common.util.addCssRule</a></li>
                                <li><a href="../classes/IBMCore.common.util.anchorlinkAdjustment.html">IBMCore.common.util.anchorlinkAdjustment</a></li>
                                <li><a href="../classes/IBMCore.common.util.bitly.html">IBMCore.common.util.bitly</a></li>
                                <li><a href="../classes/IBMCore.common.util.color.html">IBMCore.common.util.color</a></li>
                                <li><a href="../classes/IBMCore.common.util.config.html">IBMCore.common.util.config</a></li>
                                <li><a href="../classes/IBMCore.common.util.convertSecondsToHMS.html">IBMCore.common.util.convertSecondsToHMS</a></li>
                                <li><a href="../classes/IBMCore.common.util.cookie.html">IBMCore.common.util.cookie</a></li>
                                <li><a href="../classes/IBMCore.common.util.coreservices.html">IBMCore.common.util.coreservices</a></li>
                                <li><a href="../classes/IBMCore.common.util.data.html">IBMCore.common.util.data</a></li>
                                <li><a href="../classes/IBMCore.common.util.debug.html">IBMCore.common.util.debug</a></li>
                                <li><a href="../classes/IBMCore.common.util.eventCoordinator.html">IBMCore.common.util.eventCoordinator</a></li>
                                <li><a href="../classes/IBMCore.common.util.freezeScrollbars.html">IBMCore.common.util.freezeScrollbars</a></li>
                                <li><a href="../classes/IBMCore.common.util.gatekeeper.html">IBMCore.common.util.gatekeeper</a></li>
                                <li><a href="../classes/IBMCore.common.util.generateId.html">IBMCore.common.util.generateId</a></li>
                                <li><a href="../classes/IBMCore.common.util.getCurrentGridSize.html">IBMCore.common.util.getCurrentGridSize</a></li>
                                <li><a href="../classes/IBMCore.common.util.getDataAttributes.html">IBMCore.common.util.getDataAttributes</a></li>
                                <li><a href="../classes/IBMCore.common.util.getScrollbarWidth.html">IBMCore.common.util.getScrollbarWidth</a></li>
                                <li><a href="../classes/IBMCore.common.util.has12grid.html">IBMCore.common.util.has12grid</a></li>
                                <li><a href="../classes/IBMCore.common.util.hasScrollbars.html">IBMCore.common.util.hasScrollbars</a></li>
                                <li><a href="../classes/IBMCore.common.util.meta.html">IBMCore.common.util.meta</a></li>
                                <li><a href="../classes/IBMCore.common.util.perf.html">IBMCore.common.util.perf</a></li>
                                <li><a href="../classes/IBMCore.common.util.queue.html">IBMCore.common.util.queue</a></li>
                                <li><a href="../classes/IBMCore.common.util.scrolledintoview.html">IBMCore.common.util.scrolledintoview</a></li>
                                <li><a href="../classes/IBMCore.common.util.scrolltracker.html">IBMCore.common.util.scrolltracker</a></li>
                                <li><a href="../classes/IBMCore.common.util.setIpcCookie.html">IBMCore.common.util.setIpcCookie</a></li>
                                <li><a href="../classes/IBMCore.common.util.statshelper.html">IBMCore.common.util.statshelper</a></li>
                                <li><a href="../classes/IBMCore.common.util.storage.html">IBMCore.common.util.storage</a></li>
                                <li><a href="../classes/IBMCore.common.util.string.htmlspecialchars.html">IBMCore.common.util.string.htmlspecialchars</a></li>
                                <li><a href="../classes/IBMCore.common.util.url.html">IBMCore.common.util.url</a></li>
                                <li><a href="../classes/IBMCore.common.util.user.html">IBMCore.common.util.user</a></li>
                                <li><a href="../classes/IBMCore.common.widget.carousel.html">IBMCore.common.widget.carousel</a></li>
                                <li><a href="../classes/IBMCore.common.widget.ccfintercept.html">IBMCore.common.widget.ccfintercept</a></li>
                                <li><a href="../classes/IBMCore.common.widget.datatable.html">IBMCore.common.widget.datatable</a></li>
                                <li><a href="../classes/IBMCore.common.widget.datepicker.html">IBMCore.common.widget.datepicker</a></li>
                                <li><a href="../classes/IBMCore.common.widget.dyntabs.html">IBMCore.common.widget.dyntabs</a></li>
                                <li><a href="../classes/IBMCore.common.widget.fileinput.html">IBMCore.common.widget.fileinput</a></li>
                                <li><a href="../classes/IBMCore.common.widget.forms.html">IBMCore.common.widget.forms</a></li>
                                <li><a href="../classes/IBMCore.common.widget.formvalidator.html">IBMCore.common.widget.formvalidator</a></li>
                                <li><a href="../classes/IBMCore.common.widget.leavingibm.html">IBMCore.common.widget.leavingibm</a></li>
                                <li><a href="../classes/IBMCore.common.widget.manager.html">IBMCore.common.widget.manager</a></li>
                                <li><a href="../classes/IBMCore.common.widget.masonry.html">IBMCore.common.widget.masonry</a></li>
                                <li><a href="../classes/IBMCore.common.widget.overlay.html">IBMCore.common.widget.overlay</a></li>
                                <li><a href="../classes/IBMCore.common.widget.parallaxscroll.html">IBMCore.common.widget.parallaxscroll</a></li>
                                <li><a href="../classes/IBMCore.common.widget.rssdisplay.html">IBMCore.common.widget.rssdisplay</a></li>
                                <li><a href="../classes/IBMCore.common.widget.scrollable.html">IBMCore.common.widget.scrollable</a></li>
                                <li><a href="../classes/IBMCore.common.widget.selectlist.html">IBMCore.common.widget.selectlist</a></li>
                                <li><a href="../classes/IBMCore.common.widget.selectlistnav.html">IBMCore.common.widget.selectlistnav</a></li>
                                <li><a href="../classes/IBMCore.common.widget.setsameheight.html">IBMCore.common.widget.setsameheight</a></li>
                                <li><a href="../classes/IBMCore.common.widget.showhide.html">IBMCore.common.widget.showhide</a></li>
                                <li><a href="../classes/IBMCore.common.widget.stepindicator.html">IBMCore.common.widget.stepindicator</a></li>
                                <li><a href="../classes/IBMCore.common.widget.stickytabs.html">IBMCore.common.widget.stickytabs</a></li>
                                <li><a href="../classes/IBMCore.common.widget.syntaxhighlighter.html">IBMCore.common.widget.syntaxhighlighter</a></li>
                                <li><a href="../classes/IBMCore.common.widget.tablerowselector.html">IBMCore.common.widget.tablerowselector</a></li>
                                <li><a href="../classes/IBMCore.common.widget.tooltip.html">IBMCore.common.widget.tooltip</a></li>
                                <li><a href="../classes/IBMCore.common.widget.twisty.html">IBMCore.common.widget.twisty</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videolooper.html">IBMCore.common.widget.videolooper</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.html">IBMCore.common.widget.videoplayer</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.kaltura.html">IBMCore.common.widget.videoplayer.kaltura</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.ustream.html">IBMCore.common.widget.videoplayer.ustream</a></li>
                                <li><a href="../classes/IBMCore.common.widget.videoplayer.youtube.html">IBMCore.common.widget.videoplayer.youtube</a></li>
                                <li><a href="../classes/IBMCore.namespace.html">IBMCore.namespace</a></li>
                                <li><a href="../classes/IBMCore.www.module.dynamiccontactmodule.html">IBMCore.www.module.dynamiccontactmodule</a></li>
                                <li><a href="../classes/IBMCore.www.module.truste.html">IBMCore.www.module.truste</a></li>
                                <li><a href="../classes/jQuery.browser.html">jQuery.browser</a></li>
                                <li><a href="../classes/jQuery.fn.dataTable.html">jQuery.fn.dataTable</a></li>
                                <li><a href="../classes/jQuery.fn.slick.html">jQuery.fn.slick</a></li>
                                <li><a href="../classes/jQuery.layout.html">jQuery.layout</a></li>
                                <li><a href="../classes/jQuery.os.html">jQuery.os</a></li>
                                <li><a href="../classes/jQuery:focusable.html">jQuery:focusable</a></li>
                                <li><a href="../classes/Masonry.html">Masonry</a></li>
                                <li><a href="../classes/Modernizr.html">Modernizr</a></li>
                                <li><a href="../classes/Mustache.html">Mustache</a></li>
                                <li><a href="../classes/NanoScroll.html">NanoScroll</a></li>
                                <li><a href="../classes/Other IBM - Canada notice loader.html">Other IBM - Canada notice loader</a></li>
                                <li><a href="../classes/Other IBM - common init.html">Other IBM - common init</a></li>
                                <li><a href="../classes/Other IBM - common v18 page tracker.html">Other IBM - common v18 page tracker</a></li>
                                <li><a href="../classes/Other IBM - errorchecking.html">Other IBM - errorchecking</a></li>
                                <li><a href="../classes/Other IBM - footer feedback link.html">Other IBM - footer feedback link</a></li>
                                <li><a href="../classes/Other IBM - grid change.html">Other IBM - grid change</a></li>
                                <li><a href="../classes/Other IBM - jstimer-end.html">Other IBM - jstimer-end</a></li>
                                <li><a href="../classes/Other IBM - jstimer-start.html">Other IBM - jstimer-start</a></li>
                            </ul>
                
                
                            <ul id="api-modules" class="apis modules">
                                <li><a href="../modules/IBMCore.html">IBMCore</a></li>
                                <li><a href="../modules/jQuery.browser.html">jQuery.browser</a></li>
                                <li><a href="../modules/jQuery.dataTable.html">jQuery.dataTable</a></li>
                                <li><a href="../modules/jQuery.slick.html">jQuery.slick</a></li>
                                <li><a href="../modules/Masonry.html">Masonry</a></li>
                                <li><a href="../modules/Modernizr.html">Modernizr</a></li>
                                <li><a href="../modules/Mustache.html">Mustache</a></li>
                                <li><a href="../modules/Nanoscroller.html">Nanoscroller</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4"style="float: left;width:75%;">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected" checked>
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private" checked>
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated" checked>
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1 class="file-heading">File: src/js/sources/ibm/common/lib/picker.date.js</h1>
                        
                        <div class="file">
                            <pre class="code prettyprint linenums">
                        /*!
                         * Date picker for pickadate.js v3.5.6
                         * http://amsul.github.io/pickadate.js/date.htm
                         */
                        
                        (function ( factory ) {
                        
                            // AMD.
                            if ( typeof define == &#x27;function&#x27; &amp;&amp; define.amd )
                                define( [&#x27;picker&#x27;, &#x27;jquery&#x27;], factory )
                        
                            // Node.js/browserify.
                            else if ( typeof exports == &#x27;object&#x27; )
                                module.exports = factory( require(&#x27;./picker.js&#x27;), require(&#x27;jquery&#x27;) )
                        
                            // Browser globals.
                            else factory( Picker, jQuery )
                        
                        }(function( Picker, $ ) {
                        
                        
                        /**
                         * Globals and constants
                         */
                        var DAYS_IN_WEEK = 7,
                            WEEKS_IN_CALENDAR = 6,
                            _ = Picker._
                        
                        
                        
                        /**
                         * The date picker constructor
                         */
                        function DatePicker( picker, settings ) {
                        
                            var calendar = this,
                                element = picker.$node[ 0 ],
                                elementValue = element.value,
                                elementDataValue = picker.$node.data( &#x27;value&#x27; ),
                                valueString = elementDataValue || elementValue,
                                formatString = elementDataValue ? settings.formatSubmit : settings.format,
                                isRTL = function() {
                        
                                    return element.currentStyle ?
                        
                                        // For IE.
                                        element.currentStyle.direction == &#x27;rtl&#x27; :
                        
                                        // For normal browsers.
                                        getComputedStyle( picker.$root[0] ).direction == &#x27;rtl&#x27;
                                }
                        
                            calendar.settings = settings
                            calendar.$node = picker.$node
                        
                            // The queue of methods that will be used to build item objects.
                            calendar.queue = {
                                min: &#x27;measure create&#x27;,
                                max: &#x27;measure create&#x27;,
                                now: &#x27;now create&#x27;,
                                select: &#x27;parse create validate&#x27;,
                                highlight: &#x27;parse navigate create validate&#x27;,
                                view: &#x27;parse create validate viewset&#x27;,
                                disable: &#x27;deactivate&#x27;,
                                enable: &#x27;activate&#x27;
                            }
                        
                            // The component&#x27;s item object.
                            calendar.item = {}
                        
                            calendar.item.clear = null
                            calendar.item.disable = ( settings.disable || [] ).slice( 0 )
                            calendar.item.enable = -(function( collectionDisabled ) {
                                return collectionDisabled[ 0 ] === true ? collectionDisabled.shift() : -1
                            })( calendar.item.disable )
                        
                            calendar.
                                set( &#x27;min&#x27;, settings.min ).
                                set( &#x27;max&#x27;, settings.max ).
                                set( &#x27;now&#x27; )
                        
                            // When there’s a value, set the &#x60;select&#x60;, which in turn
                            // also sets the &#x60;highlight&#x60; and &#x60;view&#x60;.
                            if ( valueString ) {
                                calendar.set( &#x27;select&#x27;, valueString, {
                                    format: formatString,
                                    defaultValue: true
                                })
                            }
                        
                            // If there’s no value, default to highlighting “today”.
                            else {
                                calendar.
                                    set( &#x27;select&#x27;, null ).
                                    set( &#x27;highlight&#x27;, calendar.item.now )
                            }
                        
                        
                            // The keycode to movement mapping.
                            calendar.key = {
                                40: 7, // Down
                                38: -7, // Up
                                39: function() { return isRTL() ? -1 : 1 }, // Right
                                37: function() { return isRTL() ? 1 : -1 }, // Left
                                go: function( timeChange ) {
                                    var highlightedObject = calendar.item.highlight,
                                        targetDate = new Date( highlightedObject.year, highlightedObject.month, highlightedObject.date + timeChange )
                                    calendar.set(
                                        &#x27;highlight&#x27;,
                                        targetDate,
                                        { interval: timeChange }
                                    )
                                    this.render()
                                }
                            }
                        
                        
                            // Bind some picker events.
                            picker.
                                on( &#x27;render&#x27;, function() {
                                    picker.$root.find( &#x27;.&#x27; + settings.klass.selectMonth ).on( &#x27;change&#x27;, function() {
                                        var value = this.value
                                        if ( value ) {
                                            picker.set( &#x27;highlight&#x27;, [ picker.get( &#x27;view&#x27; ).year, value, picker.get( &#x27;highlight&#x27; ).date ] )
                                            picker.$root.find( &#x27;.&#x27; + settings.klass.selectMonth ).trigger( &#x27;focus&#x27; )
                                        }
                                    })
                                    picker.$root.find( &#x27;.&#x27; + settings.klass.selectYear ).on( &#x27;change&#x27;, function() {
                                        var value = this.value
                                        if ( value ) {
                                            picker.set( &#x27;highlight&#x27;, [ value, picker.get( &#x27;view&#x27; ).month, picker.get( &#x27;highlight&#x27; ).date ] )
                                            picker.$root.find( &#x27;.&#x27; + settings.klass.selectYear ).trigger( &#x27;focus&#x27; )
                                        }
                                    })
                                }, 1 ).
                                on( &#x27;open&#x27;, function() {
                                    var includeToday = &#x27;&#x27;
                                    if ( calendar.disabled( calendar.get(&#x27;now&#x27;) ) ) {
                                        includeToday = &#x27;:not(.&#x27; + settings.klass.buttonToday + &#x27;)&#x27;
                                    }
                                    picker.$root.find( &#x27;button&#x27; + includeToday + &#x27;, select&#x27; ).attr( &#x27;disabled&#x27;, false )
                                }, 1 ).
                                on( &#x27;close&#x27;, function() {
                                    picker.$root.find( &#x27;button, select&#x27; ).attr( &#x27;disabled&#x27;, true )
                                }, 1 )
                        
                        } //DatePicker
                        
                        
                        /**
                         * Set a datepicker item object.
                         */
                        DatePicker.prototype.set = function( type, value, options ) {
                        
                            var calendar = this,
                                calendarItem = calendar.item
                        
                            // If the value is &#x60;null&#x60; just set it immediately.
                            if ( value === null ) {
                                if ( type == &#x27;clear&#x27; ) type = &#x27;select&#x27;
                                calendarItem[ type ] = value
                                return calendar
                            }
                        
                            // Otherwise go through the queue of methods, and invoke the functions.
                            // Update this as the time unit, and set the final value as this item.
                            // * In the case of &#x60;enable&#x60;, keep the queue but set &#x60;disable&#x60; instead.
                            //   And in the case of &#x60;flip&#x60;, keep the queue but set &#x60;enable&#x60; instead.
                            calendarItem[ ( type == &#x27;enable&#x27; ? &#x27;disable&#x27; : type == &#x27;flip&#x27; ? &#x27;enable&#x27; : type ) ] = calendar.queue[ type ].split( &#x27; &#x27; ).map( function( method ) {
                                value = calendar[ method ]( type, value, options )
                                return value
                            }).pop()
                        
                            // Check if we need to cascade through more updates.
                            if ( type == &#x27;select&#x27; ) {
                                calendar.set( &#x27;highlight&#x27;, calendarItem.select, options )
                            }
                            else if ( type == &#x27;highlight&#x27; ) {
                                calendar.set( &#x27;view&#x27;, calendarItem.highlight, options )
                            }
                            else if ( type.match( /^(flip|min|max|disable|enable)$/ ) ) {
                                if ( calendarItem.select &amp;&amp; calendar.disabled( calendarItem.select ) ) {
                                    calendar.set( &#x27;select&#x27;, calendarItem.select, options )
                                }
                                if ( calendarItem.highlight &amp;&amp; calendar.disabled( calendarItem.highlight ) ) {
                                    calendar.set( &#x27;highlight&#x27;, calendarItem.highlight, options )
                                }
                            }
                        
                            return calendar
                        } //DatePicker.prototype.set
                        
                        
                        /**
                         * Get a datepicker item object.
                         */
                        DatePicker.prototype.get = function( type ) {
                            return this.item[ type ]
                        } //DatePicker.prototype.get
                        
                        
                        /**
                         * Create a picker date object.
                         */
                        DatePicker.prototype.create = function( type, value, options ) {
                        
                            var isInfiniteValue,
                                calendar = this
                        
                            // If there’s no value, use the type as the value.
                            value = value === undefined ? type : value
                        
                        
                            // If it’s infinity, update the value.
                            if ( value == -Infinity || value == Infinity ) {
                                isInfiniteValue = value
                            }
                        
                            // If it’s an object, use the native date object.
                            else if ( $.isPlainObject( value ) &amp;&amp; _.isInteger( value.pick ) ) {
                                value = value.obj
                            }
                        
                            // If it’s an array, convert it into a date and make sure
                            // that it’s a valid date – otherwise default to today.
                            else if ( $.isArray( value ) ) {
                                value = new Date( value[ 0 ], value[ 1 ], value[ 2 ] )
                                value = _.isDate( value ) ? value : calendar.create().obj
                            }
                        
                            // If it’s a number or date object, make a normalized date.
                            else if ( _.isInteger( value ) || _.isDate( value ) ) {
                                value = calendar.normalize( new Date( value ), options )
                            }
                        
                            // If it’s a literal true or any other case, set it to now.
                            else /*if ( value === true )*/ {
                                value = calendar.now( type, value, options )
                            }
                        
                            // Return the compiled object.
                            return {
                                year: isInfiniteValue || value.getFullYear(),
                                month: isInfiniteValue || value.getMonth(),
                                date: isInfiniteValue || value.getDate(),
                                day: isInfiniteValue || value.getDay(),
                                obj: isInfiniteValue || value,
                                pick: isInfiniteValue || value.getTime()
                            }
                        } //DatePicker.prototype.create
                        
                        
                        /**
                         * Create a range limit object using an array, date object,
                         * literal “true”, or integer relative to another time.
                         */
                        DatePicker.prototype.createRange = function( from, to ) {
                        
                            var calendar = this,
                                createDate = function( date ) {
                                    if ( date === true || $.isArray( date ) || _.isDate( date ) ) {
                                        return calendar.create( date )
                                    }
                                    return date
                                }
                        
                            // Create objects if possible.
                            if ( !_.isInteger( from ) ) {
                                from = createDate( from )
                            }
                            if ( !_.isInteger( to ) ) {
                                to = createDate( to )
                            }
                        
                            // Create relative dates.
                            if ( _.isInteger( from ) &amp;&amp; $.isPlainObject( to ) ) {
                                from = [ to.year, to.month, to.date + from ];
                            }
                            else if ( _.isInteger( to ) &amp;&amp; $.isPlainObject( from ) ) {
                                to = [ from.year, from.month, from.date + to ];
                            }
                        
                            return {
                                from: createDate( from ),
                                to: createDate( to )
                            }
                        } //DatePicker.prototype.createRange
                        
                        
                        /**
                         * Check if a date unit falls within a date range object.
                         */
                        DatePicker.prototype.withinRange = function( range, dateUnit ) {
                            range = this.createRange(range.from, range.to)
                            return dateUnit.pick &gt;= range.from.pick &amp;&amp; dateUnit.pick &lt;= range.to.pick
                        }
                        
                        
                        /**
                         * Check if two date range objects overlap.
                         */
                        DatePicker.prototype.overlapRanges = function( one, two ) {
                        
                            var calendar = this
                        
                            // Convert the ranges into comparable dates.
                            one = calendar.createRange( one.from, one.to )
                            two = calendar.createRange( two.from, two.to )
                        
                            return calendar.withinRange( one, two.from ) || calendar.withinRange( one, two.to ) ||
                                calendar.withinRange( two, one.from ) || calendar.withinRange( two, one.to )
                        }
                        
                        
                        /**
                         * Get the date today.
                         */
                        DatePicker.prototype.now = function( type, value, options ) {
                            value = new Date()
                            if ( options &amp;&amp; options.rel ) {
                                value.setDate( value.getDate() + options.rel )
                            }
                            return this.normalize( value, options )
                        }
                        
                        
                        /**
                         * Navigate to next/prev month.
                         */
                        DatePicker.prototype.navigate = function( type, value, options ) {
                        
                            var targetDateObject,
                                targetYear,
                                targetMonth,
                                targetDate,
                                isTargetArray = $.isArray( value ),
                                isTargetObject = $.isPlainObject( value ),
                                viewsetObject = this.item.view/*,
                                safety = 100*/
                        
                        
                            if ( isTargetArray || isTargetObject ) {
                        
                                if ( isTargetObject ) {
                                    targetYear = value.year
                                    targetMonth = value.month
                                    targetDate = value.date
                                }
                                else {
                                    targetYear = +value[0]
                                    targetMonth = +value[1]
                                    targetDate = +value[2]
                                }
                        
                                // If we’re navigating months but the view is in a different
                                // month, navigate to the view’s year and month.
                                if ( options &amp;&amp; options.nav &amp;&amp; viewsetObject &amp;&amp; viewsetObject.month !== targetMonth ) {
                                    targetYear = viewsetObject.year
                                    targetMonth = viewsetObject.month
                                }
                        
                                // Figure out the expected target year and month.
                                targetDateObject = new Date( targetYear, targetMonth + ( options &amp;&amp; options.nav ? options.nav : 0 ), 1 )
                                targetYear = targetDateObject.getFullYear()
                                targetMonth = targetDateObject.getMonth()
                        
                                // If the month we’re going to doesn’t have enough days,
                                // keep decreasing the date until we reach the month’s last date.
                                while ( /*safety &amp;&amp;*/ new Date( targetYear, targetMonth, targetDate ).getMonth() !== targetMonth ) {
                                    targetDate -= 1
                                    /*safety -= 1
                                    if ( !safety ) {
                                        throw &#x27;Fell into an infinite loop while navigating to &#x27; + new Date( targetYear, targetMonth, targetDate ) + &#x27;.&#x27;
                                    }*/
                                }
                        
                                value = [ targetYear, targetMonth, targetDate ]
                            }
                        
                            return value
                        } //DatePicker.prototype.navigate
                        
                        
                        /**
                         * Normalize a date by setting the hours to midnight.
                         */
                        DatePicker.prototype.normalize = function( value/*, options*/ ) {
                            value.setHours( 0, 0, 0, 0 )
                            return value
                        }
                        
                        
                        /**
                         * Measure the range of dates.
                         */
                        DatePicker.prototype.measure = function( type, value/*, options*/ ) {
                        
                            var calendar = this
                        
                            // If it’s anything false-y, remove the limits.
                            if ( !value ) {
                                value = type == &#x27;min&#x27; ? -Infinity : Infinity
                            }
                        
                            // If it’s a string, parse it.
                            else if ( typeof value == &#x27;string&#x27; ) {
                                value = calendar.parse( type, value )
                            }
                        
                            // If it&#x27;s an integer, get a date relative to today.
                            else if ( _.isInteger( value ) ) {
                                value = calendar.now( type, value, { rel: value } )
                            }
                        
                            return value
                        } ///DatePicker.prototype.measure
                        
                        
                        /**
                         * Create a viewset object based on navigation.
                         */
                        DatePicker.prototype.viewset = function( type, dateObject/*, options*/ ) {
                            return this.create([ dateObject.year, dateObject.month, 1 ])
                        }
                        
                        
                        /**
                         * Validate a date as enabled and shift if needed.
                         */
                        DatePicker.prototype.validate = function( type, dateObject, options ) {
                        
                            var calendar = this,
                        
                                // Keep a reference to the original date.
                                originalDateObject = dateObject,
                        
                                // Make sure we have an interval.
                                interval = options &amp;&amp; options.interval ? options.interval : 1,
                        
                                // Check if the calendar enabled dates are inverted.
                                isFlippedBase = calendar.item.enable === -1,
                        
                                // Check if we have any enabled dates after/before now.
                                hasEnabledBeforeTarget, hasEnabledAfterTarget,
                        
                                // The min &amp; max limits.
                                minLimitObject = calendar.item.min,
                                maxLimitObject = calendar.item.max,
                        
                                // Check if we’ve reached the limit during shifting.
                                reachedMin, reachedMax,
                        
                                // Check if the calendar is inverted and at least one weekday is enabled.
                                hasEnabledWeekdays = isFlippedBase &amp;&amp; calendar.item.disable.filter( function( value ) {
                        
                                    // If there’s a date, check where it is relative to the target.
                                    if ( $.isArray( value ) ) {
                                        var dateTime = calendar.create( value ).pick
                                        if ( dateTime &lt; dateObject.pick ) hasEnabledBeforeTarget = true
                                        else if ( dateTime &gt; dateObject.pick ) hasEnabledAfterTarget = true
                                    }
                        
                                    // Return only integers for enabled weekdays.
                                    return _.isInteger( value )
                                }).length/*,
                        
                                safety = 100*/
                        
                        
                        
                            // Cases to validate for:
                            // [1] Not inverted and date disabled.
                            // [2] Inverted and some dates enabled.
                            // [3] Not inverted and out of range.
                            //
                            // Cases to **not** validate for:
                            // • Navigating months.
                            // • Not inverted and date enabled.
                            // • Inverted and all dates disabled.
                            // • ..and anything else.
                            if ( !options || (!options.nav &amp;&amp; !options.defaultValue) ) if (
                                /* 1 */ ( !isFlippedBase &amp;&amp; calendar.disabled( dateObject ) ) ||
                                /* 2 */ ( isFlippedBase &amp;&amp; calendar.disabled( dateObject ) &amp;&amp; ( hasEnabledWeekdays || hasEnabledBeforeTarget || hasEnabledAfterTarget ) ) ||
                                /* 3 */ ( !isFlippedBase &amp;&amp; (dateObject.pick &lt;= minLimitObject.pick || dateObject.pick &gt;= maxLimitObject.pick) )
                            ) {
                        
                        
                                // When inverted, flip the direction if there aren’t any enabled weekdays
                                // and there are no enabled dates in the direction of the interval.
                                if ( isFlippedBase &amp;&amp; !hasEnabledWeekdays &amp;&amp; ( ( !hasEnabledAfterTarget &amp;&amp; interval &gt; 0 ) || ( !hasEnabledBeforeTarget &amp;&amp; interval &lt; 0 ) ) ) {
                                    interval *= -1
                                }
                        
                        
                                // Keep looping until we reach an enabled date.
                                while ( /*safety &amp;&amp;*/ calendar.disabled( dateObject ) ) {
                        
                                    /*safety -= 1
                                    if ( !safety ) {
                                        throw &#x27;Fell into an infinite loop while validating &#x27; + dateObject.obj + &#x27;.&#x27;
                                    }*/
                        
                        
                                    // If we’ve looped into the next/prev month with a large interval, return to the original date and flatten the interval.
                                    if ( Math.abs( interval ) &gt; 1 &amp;&amp; ( dateObject.month &lt; originalDateObject.month || dateObject.month &gt; originalDateObject.month ) ) {
                                        dateObject = originalDateObject
                                        interval = interval &gt; 0 ? 1 : -1
                                    }
                        
                        
                                    // If we’ve reached the min/max limit, reverse the direction, flatten the interval and set it to the limit.
                                    if ( dateObject.pick &lt;= minLimitObject.pick ) {
                                        reachedMin = true
                                        interval = 1
                                        dateObject = calendar.create([
                                            minLimitObject.year,
                                            minLimitObject.month,
                                            minLimitObject.date + (dateObject.pick === minLimitObject.pick ? 0 : -1)
                                        ])
                                    }
                                    else if ( dateObject.pick &gt;= maxLimitObject.pick ) {
                                        reachedMax = true
                                        interval = -1
                                        dateObject = calendar.create([
                                            maxLimitObject.year,
                                            maxLimitObject.month,
                                            maxLimitObject.date + (dateObject.pick === maxLimitObject.pick ? 0 : 1)
                                        ])
                                    }
                        
                        
                                    // If we’ve reached both limits, just break out of the loop.
                                    if ( reachedMin &amp;&amp; reachedMax ) {
                                        break
                                    }
                        
                        
                                    // Finally, create the shifted date using the interval and keep looping.
                                    dateObject = calendar.create([ dateObject.year, dateObject.month, dateObject.date + interval ])
                                }
                        
                            } //endif
                        
                        
                            // Return the date object settled on.
                            return dateObject
                        } //DatePicker.prototype.validate
                        
                        
                        /**
                         * Check if a date is disabled.
                         */
                        DatePicker.prototype.disabled = function( dateToVerify ) {
                        
                            var
                                calendar = this,
                        
                                // Filter through the disabled dates to check if this is one.
                                isDisabledMatch = calendar.item.disable.filter( function( dateToDisable ) {
                        
                                    // If the date is a number, match the weekday with 0index and &#x60;firstDay&#x60; check.
                                    if ( _.isInteger( dateToDisable ) ) {
                                        return dateToVerify.day === ( calendar.settings.firstDay ? dateToDisable : dateToDisable - 1 ) % 7
                                    }
                        
                                    // If it’s an array or a native JS date, create and match the exact date.
                                    if ( $.isArray( dateToDisable ) || _.isDate( dateToDisable ) ) {
                                        return dateToVerify.pick === calendar.create( dateToDisable ).pick
                                    }
                        
                                    // If it’s an object, match a date within the “from” and “to” range.
                                    if ( $.isPlainObject( dateToDisable ) ) {
                                        return calendar.withinRange( dateToDisable, dateToVerify )
                                    }
                                })
                        
                            // If this date matches a disabled date, confirm it’s not inverted.
                            isDisabledMatch = isDisabledMatch.length &amp;&amp; !isDisabledMatch.filter(function( dateToDisable ) {
                                return $.isArray( dateToDisable ) &amp;&amp; dateToDisable[3] == &#x27;inverted&#x27; ||
                                    $.isPlainObject( dateToDisable ) &amp;&amp; dateToDisable.inverted
                            }).length
                        
                            // Check the calendar “enabled” flag and respectively flip the
                            // disabled state. Then also check if it’s beyond the min/max limits.
                            return calendar.item.enable === -1 ? !isDisabledMatch : isDisabledMatch ||
                                dateToVerify.pick &lt; calendar.item.min.pick ||
                                dateToVerify.pick &gt; calendar.item.max.pick
                        
                        } //DatePicker.prototype.disabled
                        
                        
                        /**
                         * Parse a string into a usable type.
                         */
                        DatePicker.prototype.parse = function( type, value, options ) {
                        
                            var calendar = this,
                                parsingObject = {}
                        
                            // If it’s already parsed, we’re good.
                            if ( !value || typeof value != &#x27;string&#x27; ) {
                                return value
                            }
                        
                            // We need a &#x60;.format&#x60; to parse the value with.
                            if ( !( options &amp;&amp; options.format ) ) {
                                options = options || {}
                                options.format = calendar.settings.format
                            }
                        
                            // Convert the format into an array and then map through it.
                            calendar.formats.toArray( options.format ).map( function( label ) {
                        
                                var
                                    // Grab the formatting label.
                                    formattingLabel = calendar.formats[ label ],
                        
                                    // The format length is from the formatting label function or the
                                    // label length without the escaping exclamation (!) mark.
                                    formatLength = formattingLabel ? _.trigger( formattingLabel, calendar, [ value, parsingObject ] ) : label.replace( /^!/, &#x27;&#x27; ).length
                        
                                // If there&#x27;s a format label, split the value up to the format length.
                                // Then add it to the parsing object with appropriate label.
                                if ( formattingLabel ) {
                                    parsingObject[ label ] = value.substr( 0, formatLength )
                                }
                        
                                // Update the value as the substring from format length to end.
                                value = value.substr( formatLength )
                            })
                        
                            // Compensate for month 0index.
                            return [
                                parsingObject.yyyy || parsingObject.yy,
                                +( parsingObject.mm || parsingObject.m ) - 1,
                                parsingObject.dd || parsingObject.d
                            ]
                        } //DatePicker.prototype.parse
                        
                        
                        /**
                         * Various formats to display the object in.
                         */
                        DatePicker.prototype.formats = (function() {
                        
                            // Return the length of the first word in a collection.
                            function getWordLengthFromCollection( string, collection, dateObject ) {
                        
                                // Grab the first word from the string.
                                // Regex pattern from http://stackoverflow.com/q/150033
                                var word = string.match( /[^\x00-\x7F]+|\w+/ )[ 0 ]
                        
                                // If there&#x27;s no month index, add it to the date object
                                if ( !dateObject.mm &amp;&amp; !dateObject.m ) {
                                    dateObject.m = collection.indexOf( word ) + 1
                                }
                        
                                // Return the length of the word.
                                return word.length
                            }
                        
                            // Get the length of the first word in a string.
                            function getFirstWordLength( string ) {
                                return string.match( /\w+/ )[ 0 ].length
                            }
                        
                            return {
                        
                                d: function( string, dateObject ) {
                        
                                    // If there&#x27;s string, then get the digits length.
                                    // Otherwise return the selected date.
                                    return string ? _.digits( string ) : dateObject.date
                                },
                                dd: function( string, dateObject ) {
                        
                                    // If there&#x27;s a string, then the length is always 2.
                                    // Otherwise return the selected date with a leading zero.
                                    return string ? 2 : _.lead( dateObject.date )
                                },
                                ddd: function( string, dateObject ) {
                        
                                    // If there&#x27;s a string, then get the length of the first word.
                                    // Otherwise return the short selected weekday.
                                    return string ? getFirstWordLength( string ) : this.settings.weekdaysShort[ dateObject.day ]
                                },
                                dddd: function( string, dateObject ) {
                        
                                    // If there&#x27;s a string, then get the length of the first word.
                                    // Otherwise return the full selected weekday.
                                    return string ? getFirstWordLength( string ) : this.settings.weekdaysFull[ dateObject.day ]
                                },
                                m: function( string, dateObject ) {
                        
                                    // If there&#x27;s a string, then get the length of the digits
                                    // Otherwise return the selected month with 0index compensation.
                                    return string ? _.digits( string ) : dateObject.month + 1
                                },
                                mm: function( string, dateObject ) {
                        
                                    // If there&#x27;s a string, then the length is always 2.
                                    // Otherwise return the selected month with 0index and leading zero.
                                    return string ? 2 : _.lead( dateObject.month + 1 )
                                },
                                mmm: function( string, dateObject ) {
                        
                                    var collection = this.settings.monthsShort
                        
                                    // If there&#x27;s a string, get length of the relevant month from the short
                                    // months collection. Otherwise return the selected month from that collection.
                                    return string ? getWordLengthFromCollection( string, collection, dateObject ) : collection[ dateObject.month ]
                                },
                                mmmm: function( string, dateObject ) {
                        
                                    var collection = this.settings.monthsFull
                        
                                    // If there&#x27;s a string, get length of the relevant month from the full
                                    // months collection. Otherwise return the selected month from that collection.
                                    return string ? getWordLengthFromCollection( string, collection, dateObject ) : collection[ dateObject.month ]
                                },
                                yy: function( string, dateObject ) {
                        
                                    // If there&#x27;s a string, then the length is always 2.
                                    // Otherwise return the selected year by slicing out the first 2 digits.
                                    return string ? 2 : ( &#x27;&#x27; + dateObject.year ).slice( 2 )
                                },
                                yyyy: function( string, dateObject ) {
                        
                                    // If there&#x27;s a string, then the length is always 4.
                                    // Otherwise return the selected year.
                                    return string ? 4 : dateObject.year
                                },
                        
                                // Create an array by splitting the formatting string passed.
                                toArray: function( formatString ) { return formatString.split( /(d{1,4}|m{1,4}|y{4}|yy|!.)/g ) },
                        
                                // Format an object into a string using the formatting options.
                                toString: function ( formatString, itemObject ) {
                                    var calendar = this
                                    return calendar.formats.toArray( formatString ).map( function( label ) {
                                        return _.trigger( calendar.formats[ label ], calendar, [ 0, itemObject ] ) || label.replace( /^!/, &#x27;&#x27; )
                                    }).join( &#x27;&#x27; )
                                }
                            }
                        })() //DatePicker.prototype.formats
                        
                        
                        
                        
                        /**
                         * Check if two date units are the exact.
                         */
                        DatePicker.prototype.isDateExact = function( one, two ) {
                        
                            var calendar = this
                        
                            // When we’re working with weekdays, do a direct comparison.
                            if (
                                ( _.isInteger( one ) &amp;&amp; _.isInteger( two ) ) ||
                                ( typeof one == &#x27;boolean&#x27; &amp;&amp; typeof two == &#x27;boolean&#x27; )
                             ) {
                                return one === two
                            }
                        
                            // When we’re working with date representations, compare the “pick” value.
                            if (
                                ( _.isDate( one ) || $.isArray( one ) ) &amp;&amp;
                                ( _.isDate( two ) || $.isArray( two ) )
                            ) {
                                return calendar.create( one ).pick === calendar.create( two ).pick
                            }
                        
                            // When we’re working with range objects, compare the “from” and “to”.
                            if ( $.isPlainObject( one ) &amp;&amp; $.isPlainObject( two ) ) {
                                return calendar.isDateExact( one.from, two.from ) &amp;&amp; calendar.isDateExact( one.to, two.to )
                            }
                        
                            return false
                        }
                        
                        
                        /**
                         * Check if two date units overlap.
                         */
                        DatePicker.prototype.isDateOverlap = function( one, two ) {
                        
                            var calendar = this,
                                firstDay = calendar.settings.firstDay ? 1 : 0
                        
                            // When we’re working with a weekday index, compare the days.
                            if ( _.isInteger( one ) &amp;&amp; ( _.isDate( two ) || $.isArray( two ) ) ) {
                                one = one % 7 + firstDay
                                return one === calendar.create( two ).day + 1
                            }
                            if ( _.isInteger( two ) &amp;&amp; ( _.isDate( one ) || $.isArray( one ) ) ) {
                                two = two % 7 + firstDay
                                return two === calendar.create( one ).day + 1
                            }
                        
                            // When we’re working with range objects, check if the ranges overlap.
                            if ( $.isPlainObject( one ) &amp;&amp; $.isPlainObject( two ) ) {
                                return calendar.overlapRanges( one, two )
                            }
                        
                            return false
                        }
                        
                        
                        /**
                         * Flip the “enabled” state.
                         */
                        DatePicker.prototype.flipEnable = function(val) {
                            var itemObject = this.item
                            itemObject.enable = val || (itemObject.enable == -1 ? 1 : -1)
                        }
                        
                        
                        /**
                         * Mark a collection of dates as “disabled”.
                         */
                        DatePicker.prototype.deactivate = function( type, datesToDisable ) {
                        
                            var calendar = this,
                                disabledItems = calendar.item.disable.slice(0)
                        
                        
                            // If we’re flipping, that’s all we need to do.
                            if ( datesToDisable == &#x27;flip&#x27; ) {
                                calendar.flipEnable()
                            }
                        
                            else if ( datesToDisable === false ) {
                                calendar.flipEnable(1)
                                disabledItems = []
                            }
                        
                            else if ( datesToDisable === true ) {
                                calendar.flipEnable(-1)
                                disabledItems = []
                            }
                        
                            // Otherwise go through the dates to disable.
                            else {
                        
                                datesToDisable.map(function( unitToDisable ) {
                        
                                    var matchFound
                        
                                    // When we have disabled items, check for matches.
                                    // If something is matched, immediately break out.
                                    for ( var index = 0; index &lt; disabledItems.length; index += 1 ) {
                                        if ( calendar.isDateExact( unitToDisable, disabledItems[index] ) ) {
                                            matchFound = true
                                            break
                                        }
                                    }
                        
                                    // If nothing was found, add the validated unit to the collection.
                                    if ( !matchFound ) {
                                        if (
                                            _.isInteger( unitToDisable ) ||
                                            _.isDate( unitToDisable ) ||
                                            $.isArray( unitToDisable ) ||
                                            ( $.isPlainObject( unitToDisable ) &amp;&amp; unitToDisable.from &amp;&amp; unitToDisable.to )
                                        ) {
                                            disabledItems.push( unitToDisable )
                                        }
                                    }
                                })
                            }
                        
                            // Return the updated collection.
                            return disabledItems
                        } //DatePicker.prototype.deactivate
                        
                        
                        /**
                         * Mark a collection of dates as “enabled”.
                         */
                        DatePicker.prototype.activate = function( type, datesToEnable ) {
                        
                            var calendar = this,
                                disabledItems = calendar.item.disable,
                                disabledItemsCount = disabledItems.length
                        
                            // If we’re flipping, that’s all we need to do.
                            if ( datesToEnable == &#x27;flip&#x27; ) {
                                calendar.flipEnable()
                            }
                        
                            else if ( datesToEnable === true ) {
                                calendar.flipEnable(1)
                                disabledItems = []
                            }
                        
                            else if ( datesToEnable === false ) {
                                calendar.flipEnable(-1)
                                disabledItems = []
                            }
                        
                            // Otherwise go through the disabled dates.
                            else {
                        
                                datesToEnable.map(function( unitToEnable ) {
                        
                                    var matchFound,
                                        disabledUnit,
                                        index,
                                        isExactRange
                        
                                    // Go through the disabled items and try to find a match.
                                    for ( index = 0; index &lt; disabledItemsCount; index += 1 ) {
                        
                                        disabledUnit = disabledItems[index]
                        
                                        // When an exact match is found, remove it from the collection.
                                        if ( calendar.isDateExact( disabledUnit, unitToEnable ) ) {
                                            matchFound = disabledItems[index] = null
                                            isExactRange = true
                                            break
                                        }
                        
                                        // When an overlapped match is found, add the “inverted” state to it.
                                        else if ( calendar.isDateOverlap( disabledUnit, unitToEnable ) ) {
                                            if ( $.isPlainObject( unitToEnable ) ) {
                                                unitToEnable.inverted = true
                                                matchFound = unitToEnable
                                            }
                                            else if ( $.isArray( unitToEnable ) ) {
                                                matchFound = unitToEnable
                                                if ( !matchFound[3] ) matchFound.push( &#x27;inverted&#x27; )
                                            }
                                            else if ( _.isDate( unitToEnable ) ) {
                                                matchFound = [ unitToEnable.getFullYear(), unitToEnable.getMonth(), unitToEnable.getDate(), &#x27;inverted&#x27; ]
                                            }
                                            break
                                        }
                                    }
                        
                                    // If a match was found, remove a previous duplicate entry.
                                    if ( matchFound ) for ( index = 0; index &lt; disabledItemsCount; index += 1 ) {
                                        if ( calendar.isDateExact( disabledItems[index], unitToEnable ) ) {
                                            disabledItems[index] = null
                                            break
                                        }
                                    }
                        
                                    // In the event that we’re dealing with an exact range of dates,
                                    // make sure there are no “inverted” dates because of it.
                                    if ( isExactRange ) for ( index = 0; index &lt; disabledItemsCount; index += 1 ) {
                                        if ( calendar.isDateOverlap( disabledItems[index], unitToEnable ) ) {
                                            disabledItems[index] = null
                                            break
                                        }
                                    }
                        
                                    // If something is still matched, add it into the collection.
                                    if ( matchFound ) {
                                        disabledItems.push( matchFound )
                                    }
                                })
                            }
                        
                            // Return the updated collection.
                            return disabledItems.filter(function( val ) { return val != null })
                        } //DatePicker.prototype.activate
                        
                        
                        /**
                         * Create a string for the nodes in the picker.
                         */
                        DatePicker.prototype.nodes = function( isOpen ) {
                        
                            var
                                calendar = this,
                                settings = calendar.settings,
                                calendarItem = calendar.item,
                                nowObject = calendarItem.now,
                                selectedObject = calendarItem.select,
                                highlightedObject = calendarItem.highlight,
                                viewsetObject = calendarItem.view,
                                disabledCollection = calendarItem.disable,
                                minLimitObject = calendarItem.min,
                                maxLimitObject = calendarItem.max,
                        
                        
                                // Create the calendar table head using a copy of weekday labels collection.
                                // * We do a copy so we don&#x27;t mutate the original array.
                                tableHead = (function( collection, fullCollection ) {
                        
                                    // If the first day should be Monday, move Sunday to the end.
                                    if ( settings.firstDay ) {
                                        collection.push( collection.shift() )
                                        fullCollection.push( fullCollection.shift() )
                                    }
                        
                                    // Create and return the table head group.
                                    return _.node(
                                        &#x27;thead&#x27;,
                                        _.node(
                                            &#x27;tr&#x27;,
                                            _.group({
                                                min: 0,
                                                max: DAYS_IN_WEEK - 1,
                                                i: 1,
                                                node: &#x27;th&#x27;,
                                                item: function( counter ) {
                                                    return [
                                                        collection[ counter ],
                                                        settings.klass.weekdays,
                                                        &#x27;scope=col title=&quot;&#x27; + fullCollection[ counter ] + &#x27;&quot;&#x27;
                                                    ]
                                                }
                                            })
                                        )
                                    ) //endreturn
                                })( ( settings.showWeekdaysFull ? settings.weekdaysFull : settings.weekdaysShort ).slice( 0 ), settings.weekdaysFull.slice( 0 ) ), //tableHead
                        
                        
                                // Create the nav for next/prev month.
                                createMonthNav = function( next ) {
                        
                                    // Otherwise, return the created month tag.
                                    return _.node(
                                        &#x27;div&#x27;,
                                        &#x27; &#x27;,
                                        settings.klass[ &#x27;nav&#x27; + ( next ? &#x27;Next&#x27; : &#x27;Prev&#x27; ) ] + (
                        
                                            // If the focused month is outside the range, disabled the button.
                                            ( next &amp;&amp; viewsetObject.year &gt;= maxLimitObject.year &amp;&amp; viewsetObject.month &gt;= maxLimitObject.month ) ||
                                            ( !next &amp;&amp; viewsetObject.year &lt;= minLimitObject.year &amp;&amp; viewsetObject.month &lt;= minLimitObject.month ) ?
                                            &#x27; &#x27; + settings.klass.navDisabled : &#x27;&#x27;
                                        ),
                                        &#x27;data-nav=&#x27; + ( next || -1 ) + &#x27; &#x27; +
                                        _.ariaAttr({
                                            role: &#x27;button&#x27;,
                                            controls: calendar.$node[0].id + &#x27;_table&#x27;
                                        }) + &#x27; &#x27; +
                                        &#x27;title=&quot;&#x27; + (next ? settings.labelMonthNext : settings.labelMonthPrev ) + &#x27;&quot;&#x27;
                                    ) //endreturn
                                }, //createMonthNav
                        
                        
                                // Create the month label.
                                createMonthLabel = function() {
                        
                                    var monthsCollection = settings.showMonthsShort ? settings.monthsShort : settings.monthsFull
                        
                                    // If there are months to select, add a dropdown menu.
                                    if ( settings.selectMonths ) {
                        
                                        return _.node( &#x27;select&#x27;,
                                            _.group({
                                                min: 0,
                                                max: 11,
                                                i: 1,
                                                node: &#x27;option&#x27;,
                                                item: function( loopedMonth ) {
                        
                                                    return [
                        
                                                        // The looped month and no classes.
                                                        monthsCollection[ loopedMonth ], 0,
                        
                                                        // Set the value and selected index.
                                                        &#x27;value=&#x27; + loopedMonth +
                                                        ( viewsetObject.month == loopedMonth ? &#x27; selected&#x27; : &#x27;&#x27; ) +
                                                        (
                                                            (
                                                                ( viewsetObject.year == minLimitObject.year &amp;&amp; loopedMonth &lt; minLimitObject.month ) ||
                                                                ( viewsetObject.year == maxLimitObject.year &amp;&amp; loopedMonth &gt; maxLimitObject.month )
                                                            ) ?
                                                            &#x27; disabled&#x27; : &#x27;&#x27;
                                                        )
                                                    ]
                                                }
                                            }),
                                            settings.klass.selectMonth,
                                            ( isOpen ? &#x27;&#x27; : &#x27;disabled&#x27; ) + &#x27; &#x27; +
                                            _.ariaAttr({ controls: calendar.$node[0].id + &#x27;_table&#x27; }) + &#x27; &#x27; +
                                            &#x27;title=&quot;&#x27; + settings.labelMonthSelect + &#x27;&quot;&#x27;
                                        )
                                    }
                        
                                    // If there&#x27;s a need for a month selector
                                    return _.node( &#x27;div&#x27;, monthsCollection[ viewsetObject.month ], settings.klass.month )
                                }, //createMonthLabel
                        
                        
                                // Create the year label.
                                createYearLabel = function() {
                        
                                    var focusedYear = viewsetObject.year,
                        
                                    // If years selector is set to a literal &quot;true&quot;, set it to 5. Otherwise
                                    // divide in half to get half before and half after focused year.
                                    numberYears = settings.selectYears === true ? 5 : ~~( settings.selectYears / 2 )
                        
                                    // If there are years to select, add a dropdown menu.
                                    if ( numberYears ) {
                        
                                        var
                                            minYear = minLimitObject.year,
                                            maxYear = maxLimitObject.year,
                                            lowestYear = focusedYear - numberYears,
                                            highestYear = focusedYear + numberYears
                        
                                        // If the min year is greater than the lowest year, increase the highest year
                                        // by the difference and set the lowest year to the min year.
                                        if ( minYear &gt; lowestYear ) {
                                            highestYear += minYear - lowestYear
                                            lowestYear = minYear
                                        }
                        
                                        // If the max year is less than the highest year, decrease the lowest year
                                        // by the lower of the two: available and needed years. Then set the
                                        // highest year to the max year.
                                        if ( maxYear &lt; highestYear ) {
                        
                                            var availableYears = lowestYear - minYear,
                                                neededYears = highestYear - maxYear
                        
                                            lowestYear -= availableYears &gt; neededYears ? neededYears : availableYears
                                            highestYear = maxYear
                                        }
                        
                                        return _.node( &#x27;select&#x27;,
                                            _.group({
                                                min: lowestYear,
                                                max: highestYear,
                                                i: 1,
                                                node: &#x27;option&#x27;,
                                                item: function( loopedYear ) {
                                                    return [
                        
                                                        // The looped year and no classes.
                                                        loopedYear, 0,
                        
                                                        // Set the value and selected index.
                                                        &#x27;value=&#x27; + loopedYear + ( focusedYear == loopedYear ? &#x27; selected&#x27; : &#x27;&#x27; )
                                                    ]
                                                }
                                            }),
                                            settings.klass.selectYear,
                                            ( isOpen ? &#x27;&#x27; : &#x27;disabled&#x27; ) + &#x27; &#x27; + _.ariaAttr({ controls: calendar.$node[0].id + &#x27;_table&#x27; }) + &#x27; &#x27; +
                                            &#x27;title=&quot;&#x27; + settings.labelYearSelect + &#x27;&quot;&#x27;
                                        )
                                    }
                        
                                    // Otherwise just return the year focused
                                    return _.node( &#x27;div&#x27;, focusedYear, settings.klass.year )
                                } //createYearLabel
                        
                        
                            // Create and return the entire calendar.
                            return _.node(
                                &#x27;div&#x27;,
                                ( settings.selectYears ? createYearLabel() + createMonthLabel() : createMonthLabel() + createYearLabel() ) +
                                createMonthNav() + createMonthNav( 1 ),
                                settings.klass.header
                            ) + _.node(
                                &#x27;table&#x27;,
                                tableHead +
                                _.node(
                                    &#x27;tbody&#x27;,
                                    _.group({
                                        min: 0,
                                        max: WEEKS_IN_CALENDAR - 1,
                                        i: 1,
                                        node: &#x27;tr&#x27;,
                                        item: function( rowCounter ) {
                        
                                            // If Monday is the first day and the month starts on Sunday, shift the date back a week.
                                            var shiftDateBy = settings.firstDay &amp;&amp; calendar.create([ viewsetObject.year, viewsetObject.month, 1 ]).day === 0 ? -7 : 0
                        
                                            return [
                                                _.group({
                                                    min: DAYS_IN_WEEK * rowCounter - viewsetObject.day + shiftDateBy + 1, // Add 1 for weekday 0index
                                                    max: function() {
                                                        return this.min + DAYS_IN_WEEK - 1
                                                    },
                                                    i: 1,
                                                    node: &#x27;td&#x27;,
                                                    item: function( targetDate ) {
                        
                                                        // Convert the time date from a relative date to a target date.
                                                        targetDate = calendar.create([ viewsetObject.year, viewsetObject.month, targetDate + ( settings.firstDay ? 1 : 0 ) ])
                        
                                                        var isSelected = selectedObject &amp;&amp; selectedObject.pick == targetDate.pick,
                                                            isHighlighted = highlightedObject &amp;&amp; highlightedObject.pick == targetDate.pick,
                                                            isDisabled = disabledCollection &amp;&amp; calendar.disabled( targetDate ) || targetDate.pick &lt; minLimitObject.pick || targetDate.pick &gt; maxLimitObject.pick,
                                                            formattedDate = _.trigger( calendar.formats.toString, calendar, [ settings.format, targetDate ] )
                        
                                                        return [
                                                            _.node(
                                                                &#x27;div&#x27;,
                                                                targetDate.date,
                                                                (function( klasses ) {
                        
                                                                    // Add the &#x60;infocus&#x60; or &#x60;outfocus&#x60; classes based on month in view.
                                                                    klasses.push( viewsetObject.month == targetDate.month ? settings.klass.infocus : settings.klass.outfocus )
                        
                                                                    // Add the &#x60;today&#x60; class if needed.
                                                                    if ( nowObject.pick == targetDate.pick ) {
                                                                        klasses.push( settings.klass.now )
                                                                    }
                        
                                                                    // Add the &#x60;selected&#x60; class if something&#x27;s selected and the time matches.
                                                                    if ( isSelected ) {
                                                                        klasses.push( settings.klass.selected )
                                                                    }
                        
                                                                    // Add the &#x60;highlighted&#x60; class if something&#x27;s highlighted and the time matches.
                                                                    if ( isHighlighted ) {
                                                                        klasses.push( settings.klass.highlighted )
                                                                    }
                        
                                                                    // Add the &#x60;disabled&#x60; class if something&#x27;s disabled and the object matches.
                                                                    if ( isDisabled ) {
                                                                        klasses.push( settings.klass.disabled )
                                                                    }
                        
                                                                    return klasses.join( &#x27; &#x27; )
                                                                })([ settings.klass.day ]),
                                                                &#x27;data-pick=&#x27; + targetDate.pick + &#x27; &#x27; + _.ariaAttr({
                                                                    role: &#x27;gridcell&#x27;,
                                                                    label: formattedDate,
                                                                    selected: isSelected &amp;&amp; calendar.$node.val() === formattedDate ? true : null,
                                                                    activedescendant: isHighlighted ? true : null,
                                                                    disabled: isDisabled ? true : null
                                                                })
                                                            ),
                                                            &#x27;&#x27;,
                                                            _.ariaAttr({ role: &#x27;presentation&#x27; })
                                                        ] //endreturn
                                                    }
                                                })
                                            ] //endreturn
                                        }
                                    })
                                ),
                                settings.klass.table,
                                &#x27;id=&quot;&#x27; + calendar.$node[0].id + &#x27;_table&#x27; + &#x27;&quot; &#x27; + _.ariaAttr({
                                    role: &#x27;grid&#x27;,
                                    controls: calendar.$node[0].id,
                                    readonly: true
                                })
                            ) +
                        
                            // * For Firefox forms to submit, make sure to set the buttons’ &#x60;type&#x60; attributes as “button”.
                            _.node(
                                &#x27;div&#x27;,
                                _.node( &#x27;button&#x27;, settings.today, settings.klass.buttonToday,
                                    &#x27;type=button data-pick=&#x27; + nowObject.pick +
                                    ( isOpen &amp;&amp; !calendar.disabled(nowObject) ? &#x27;&#x27; : &#x27; disabled&#x27; ) + &#x27; &#x27; +
                                    _.ariaAttr({ controls: calendar.$node[0].id }) ) +
                                _.node( &#x27;button&#x27;, settings.clear, settings.klass.buttonClear,
                                    &#x27;type=button data-clear=1&#x27; +
                                    ( isOpen ? &#x27;&#x27; : &#x27; disabled&#x27; ) + &#x27; &#x27; +
                                    _.ariaAttr({ controls: calendar.$node[0].id }) ) +
                                _.node(&#x27;button&#x27;, settings.close, settings.klass.buttonClose,
                                    &#x27;type=button data-close=true &#x27; +
                                    ( isOpen ? &#x27;&#x27; : &#x27; disabled&#x27; ) + &#x27; &#x27; +
                                    _.ariaAttr({ controls: calendar.$node[0].id }) ),
                                settings.klass.footer
                            ) //endreturn
                        } //DatePicker.prototype.nodes
                        
                        
                        
                        
                        /**
                         * The date picker defaults.
                         */
                        DatePicker.defaults = (function( prefix ) {
                        
                            return {
                        
                                // The title label to use for the month nav buttons
                                labelMonthNext: &#x27;Next month&#x27;,
                                labelMonthPrev: &#x27;Previous month&#x27;,
                        
                                // The title label to use for the dropdown selectors
                                labelMonthSelect: &#x27;Select a month&#x27;,
                                labelYearSelect: &#x27;Select a year&#x27;,
                        
                                // Months and weekdays
                                monthsFull: [ &#x27;January&#x27;, &#x27;February&#x27;, &#x27;March&#x27;, &#x27;April&#x27;, &#x27;May&#x27;, &#x27;June&#x27;, &#x27;July&#x27;, &#x27;August&#x27;, &#x27;September&#x27;, &#x27;October&#x27;, &#x27;November&#x27;, &#x27;December&#x27; ],
                                monthsShort: [ &#x27;Jan&#x27;, &#x27;Feb&#x27;, &#x27;Mar&#x27;, &#x27;Apr&#x27;, &#x27;May&#x27;, &#x27;Jun&#x27;, &#x27;Jul&#x27;, &#x27;Aug&#x27;, &#x27;Sep&#x27;, &#x27;Oct&#x27;, &#x27;Nov&#x27;, &#x27;Dec&#x27; ],
                                weekdaysFull: [ &#x27;Sunday&#x27;, &#x27;Monday&#x27;, &#x27;Tuesday&#x27;, &#x27;Wednesday&#x27;, &#x27;Thursday&#x27;, &#x27;Friday&#x27;, &#x27;Saturday&#x27; ],
                                weekdaysShort: [ &#x27;Sun&#x27;, &#x27;Mon&#x27;, &#x27;Tue&#x27;, &#x27;Wed&#x27;, &#x27;Thu&#x27;, &#x27;Fri&#x27;, &#x27;Sat&#x27; ],
                        
                                // Today and clear
                                today: &#x27;Today&#x27;,
                                clear: &#x27;Clear&#x27;,
                                close: &#x27;Close&#x27;,
                        
                                // Picker close behavior
                                closeOnSelect: true,
                                closeOnClear: true,
                        
                                // The format to show on the &#x60;input&#x60; element
                                format: &#x27;d mmmm, yyyy&#x27;,
                        
                                // Classes
                                klass: {
                        
                                    table: prefix + &#x27;table&#x27;,
                        
                                    header: prefix + &#x27;header&#x27;,
                        
                                    navPrev: prefix + &#x27;nav--prev&#x27;,
                                    navNext: prefix + &#x27;nav--next&#x27;,
                                    navDisabled: prefix + &#x27;nav--disabled&#x27;,
                        
                                    month: prefix + &#x27;month&#x27;,
                                    year: prefix + &#x27;year&#x27;,
                        
                                    selectMonth: prefix + &#x27;select--month&#x27;,
                                    selectYear: prefix + &#x27;select--year&#x27;,
                        
                                    weekdays: prefix + &#x27;weekday&#x27;,
                        
                                    day: prefix + &#x27;day&#x27;,
                                    disabled: prefix + &#x27;day--disabled&#x27;,
                                    selected: prefix + &#x27;day--selected&#x27;,
                                    highlighted: prefix + &#x27;day--highlighted&#x27;,
                                    now: prefix + &#x27;day--today&#x27;,
                                    infocus: prefix + &#x27;day--infocus&#x27;,
                                    outfocus: prefix + &#x27;day--outfocus&#x27;,
                        
                                    footer: prefix + &#x27;footer&#x27;,
                        
                                    buttonClear: prefix + &#x27;button--clear&#x27;,
                                    buttonToday: prefix + &#x27;button--today&#x27;,
                                    buttonClose: prefix + &#x27;button--close&#x27;
                                }
                            }
                        })( Picker.klasses().picker + &#x27;__&#x27; )
                        
                        
                        
                        
                        
                        /**
                         * Extend the picker to add the date picker.
                         */
                        Picker.extend( &#x27;pickadate&#x27;, DatePicker )
                        
                        
                        }));
                        
                        
                        
                        
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
